<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.28.0 (20110507.0327)
 -->
<!-- Title: G Pages: 1 -->
<svg width="7519pt" height="3157pt"
 viewBox="0.00 0.00 7519.00 3157.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph1" class="graph" transform="scale(1 1) rotate(0) translate(4 3153)">
<title>G</title>
<polygon fill="white" stroke="white" points="-4,5 -4,-3153 7516,-3153 7516,5 -4,5"/>
<g id="graph2" class="cluster"><title>cluster_ngx_init_cycle</title>
<polygon fill="green" stroke="black" points="2548,-1787 2548,-2531 3879,-2531 3879,-1787 2548,-1787"/>
<text text-anchor="middle" x="3213.5" y="-2515.8" font-family="KaiTi_GB2312" font-size="14.00">ngx_init_cycle()初始化程序</text>
</g>
<g id="graph3" class="cluster"><title>cluster_signals</title>
<polygon fill="lightcyan" stroke="black" points="7094,-1748 7094,-2258 7433,-2258 7433,-1748 7094,-1748"/>
<text text-anchor="middle" x="7263.5" y="-2242.8" font-family="KaiTi_GB2312" font-size="14.00">signals table array</text>
</g>
<g id="graph4" class="cluster"><title>cluster_ngx_modules</title>
<polygon fill="gold" stroke="black" points="6478,-2100 6478,-3014 6983,-3014 6983,-2100 6478,-2100"/>
<text text-anchor="middle" x="6730.5" y="-2998.8" font-family="KaiTi_GB2312" font-size="14.00">nginx all modules</text>
</g>
<g id="graph5" class="cluster"><title>cluster_ngx_single_process_cycle</title>
<polygon fill="purple" stroke="black" points="1876,-2464 1876,-2871 2540,-2871 2540,-2464 1876,-2464"/>
<text text-anchor="middle" x="2208" y="-2855.8" font-family="KaiTi_GB2312" font-size="14.00">single process mode</text>
</g>
<g id="graph6" class="cluster"><title>cluster_ngx_master_process_cycle</title>
<polygon fill="lightcyan" stroke="black" points="3887,-2464 3887,-2962 4333,-2962 4333,-2464 3887,-2464"/>
<text text-anchor="middle" x="4110" y="-2946.8" font-family="KaiTi_GB2312" font-size="14.00">mutipule process mode</text>
</g>
<g id="graph7" class="cluster"><title>cluster_ngx_http_fastcgi_handler</title>
<polygon fill="yellow" stroke="black" points="6228,-8 6228,-174 6767,-174 6767,-8 6228,-8"/>
<text text-anchor="middle" x="6497.5" y="-158.8" font-family="KaiTi_GB2312" font-size="14.00">FCGI处理入口</text>
<text text-anchor="middle" x="6497.5" y="-143.8" font-family="KaiTi_GB2312" font-size="14.00">ngx_http_fastcgi_handler</text>
</g>
<g id="graph8" class="cluster"><title>cluster_ngx_http_module</title>
<polygon fill="green" stroke="black" points="4494,-8 4494,-1594 6220,-1594 6220,-8 4494,-8"/>
<text text-anchor="middle" x="5357" y="-1578.8" font-family="KaiTi_GB2312" font-size="14.00">ngx_http_module</text>
</g>
<g id="graph9" class="cluster"><title>cluster_ngx_events_module</title>
<polygon fill="yellow" stroke="black" points="1162,-2425 1162,-2940 1868,-2940 1868,-2425 1162,-2425"/>
<text text-anchor="middle" x="1515" y="-2924.8" font-family="KaiTi_GB2312" font-size="14.00">ngx_events_module</text>
<text text-anchor="middle" x="1515" y="-2909.8" font-family="KaiTi_GB2312" font-size="14.00">事件处理模块，包含各个事件处理模型:core,epoll,select</text>
<text text-anchor="middle" x="1515" y="-2894.8" font-family="KaiTi_GB2312" font-size="14.00">此模块只需要负责子模块的配置初始化，解析，init等概况为：设置accept可读回调，选择epoll/select</text>
</g>
<g id="graph10" class="cluster"><title>cluster_ngx_event_core_module</title>
<polygon fill="green" stroke="black" points="5104,-1682 5104,-2598 6470,-2598 6470,-1682 5104,-1682"/>
<text text-anchor="middle" x="5787" y="-2582.8" font-family="KaiTi_GB2312" font-size="14.00">ngx_event_core_module</text>
<text text-anchor="middle" x="5787" y="-2567.8" font-family="KaiTi_GB2312" font-size="14.00">事件处理模块，包含各个事件处理模型:core,epoll,select</text>
</g>
<g id="graph11" class="cluster"><title>cluster_ngx_epoll_module</title>
<polygon fill="yellow" stroke="black" points="4101,-1739 4101,-2336 5096,-2336 5096,-1739 4101,-1739"/>
<text text-anchor="middle" x="4598.5" y="-2320.8" font-family="KaiTi_GB2312" font-size="14.00">ngx_epoll_module</text>
</g>
<g id="graph12" class="cluster"><title>cluster_worker_process_mainloop</title>
<polygon fill="cyan" stroke="black" points="4341,-2464 4341,-2546 4756,-2546 4756,-2464 4341,-2464"/>
<text text-anchor="middle" x="4548.5" y="-2530.8" font-family="KaiTi_GB2312" font-size="14.00">worker_process_mainloop</text>
<text text-anchor="middle" x="4548.5" y="-2515.8" font-family="KaiTi_GB2312" font-size="14.00">工作进程进入循环不断处理事件</text>
</g>
<!-- main -->
<g id="node1" class="node"><title>main</title>
<polygon fill="none" stroke="skyblue" points="1070,-3122 1070,-3148 1136,-3148 1136,-3122 1070,-3122"/>
<text text-anchor="middle" x="1103" y="-3131.2" font-family="KaiTi_GB2312" font-size="16.00">main()</text>
</g>
<!-- ngx_get_options -->
<g id="node3" class="node"><title>ngx_get_options</title>
<polygon fill="none" stroke="skyblue" points="0,-2813 0,-2839 140,-2839 140,-2813 0,-2813"/>
<text text-anchor="middle" x="70" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_get_options</text>
</g>
<!-- main&#45;&gt;ngx_get_options -->
<g id="edge2" class="edge"><title>main&#45;&gt;ngx_get_options</title>
<path fill="none" stroke="crimson" d="M1069.75,-3134.09C917.68,-3134.28 292.538,-3132.71 215,-3094 118.525,-3045.84 83.6683,-2904.35 73.538,-2849.29"/>
<polygon fill="crimson" stroke="crimson" points="76.9449,-2848.45 71.7843,-2839.2 70.0483,-2849.65 76.9449,-2848.45"/>
<text text-anchor="middle" x="219.5" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">0</text>
</g>
<!-- ngx_time_init -->
<g id="node5" class="node"><title>ngx_time_init</title>
<polygon fill="none" stroke="skyblue" points="158,-2813 158,-2839 282,-2839 282,-2813 158,-2813"/>
<text text-anchor="middle" x="220" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_time_init</text>
</g>
<!-- main&#45;&gt;ngx_time_init -->
<g id="edge4" class="edge"><title>main&#45;&gt;ngx_time_init</title>
<path fill="none" stroke="crimson" d="M1069.79,-3133.53C918.855,-3131.27 303.662,-3120.43 273,-3094 200.639,-3031.61 209.513,-2901.25 216.446,-2849.18"/>
<polygon fill="crimson" stroke="crimson" points="219.945,-2849.44 217.908,-2839.04 213.016,-2848.44 219.945,-2849.44"/>
<text text-anchor="middle" x="351.5" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">1初始化高效时间模块</text>
</g>
<!-- ngx_log_init -->
<g id="node7" class="node"><title>ngx_log_init</title>
<polygon fill="none" stroke="skyblue" points="300,-2813 300,-2839 416,-2839 416,-2813 300,-2813"/>
<text text-anchor="middle" x="358" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_log_init</text>
</g>
<!-- main&#45;&gt;ngx_log_init -->
<g id="edge6" class="edge"><title>main&#45;&gt;ngx_log_init</title>
<path fill="none" stroke="crimson" d="M1069.99,-3133.43C968.305,-3131.38 661.033,-3122.9 566,-3094 497.066,-3073.04 471.382,-3069.14 425,-3014 383.377,-2964.52 366.784,-2887.21 360.884,-2849.38"/>
<polygon fill="crimson" stroke="crimson" points="364.335,-2848.79 359.436,-2839.39 357.407,-2849.79 364.335,-2848.79"/>
<text text-anchor="middle" x="570.5" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">2</text>
</g>
<!-- ngx_save_argv -->
<g id="node9" class="node"><title>ngx_save_argv</title>
<polygon fill="none" stroke="skyblue" points="434,-2813 434,-2839 558,-2839 558,-2813 434,-2813"/>
<text text-anchor="middle" x="496" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_save_argv</text>
</g>
<!-- main&#45;&gt;ngx_save_argv -->
<g id="edge8" class="edge"><title>main&#45;&gt;ngx_save_argv</title>
<path fill="none" stroke="crimson" d="M1069.69,-3133.38C1006.9,-3131.51 867.184,-3124.01 754,-3094 666.622,-3070.83 629.584,-3079.23 567,-3014 521.704,-2966.79 504.624,-2887.79 498.762,-2849.35"/>
<polygon fill="crimson" stroke="crimson" points="502.197,-2848.64 497.338,-2839.23 495.265,-2849.62 502.197,-2848.64"/>
<text text-anchor="middle" x="758.5" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">3</text>
</g>
<!-- ngx_process_options -->
<g id="node11" class="node"><title>ngx_process_options</title>
<polygon fill="none" stroke="skyblue" points="576.5,-2813 576.5,-2839 749.5,-2839 749.5,-2813 576.5,-2813"/>
<text text-anchor="middle" x="663" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_process_options</text>
</g>
<!-- main&#45;&gt;ngx_process_options -->
<g id="edge10" class="edge"><title>main&#45;&gt;ngx_process_options</title>
<path fill="none" stroke="crimson" d="M1069.69,-3133.69C1021.46,-3132.12 930.258,-3124.88 860,-3094 807.257,-3070.82 794.578,-3058.51 758,-3014 714.864,-2961.51 684.142,-2886.2 670.652,-2849.21"/>
<polygon fill="crimson" stroke="crimson" points="673.822,-2847.68 667.166,-2839.44 667.229,-2850.04 673.822,-2847.68"/>
<text text-anchor="middle" x="864.5" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">4</text>
</g>
<!-- ngx_os_init -->
<g id="node13" class="node"><title>ngx_os_init</title>
<polygon fill="none" stroke="skyblue" points="767.5,-2813 767.5,-2839 874.5,-2839 874.5,-2813 767.5,-2813"/>
<text text-anchor="middle" x="821" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_os_init</text>
</g>
<!-- main&#45;&gt;ngx_os_init -->
<g id="edge12" class="edge"><title>main&#45;&gt;ngx_os_init</title>
<path fill="none" stroke="crimson" d="M1069.67,-3133.63C1032.75,-3131.66 973.029,-3123.63 932,-3094 849.555,-3034.45 828.083,-2901.94 822.713,-2849.24"/>
<polygon fill="crimson" stroke="crimson" points="826.196,-2848.9 821.795,-2839.26 819.226,-2849.54 826.196,-2848.9"/>
<text text-anchor="middle" x="998.5" y="-3081.2" font-family="KaiTi_GB2312" font-size="16.00">5环境变量移动</text>
<text text-anchor="middle" x="998.5" y="-3063.2" font-family="KaiTi_GB2312" font-size="16.00">缓存行大小</text>
<text text-anchor="middle" x="998.5" y="-3045.2" font-family="KaiTi_GB2312" font-size="16.00">srand</text>
<text text-anchor="middle" x="998.5" y="-3027.2" font-family="KaiTi_GB2312" font-size="16.00">最大打开文件数量</text>
</g>
<!-- ngx_add_inherited_sockets -->
<g id="node15" class="node"><title>ngx_add_inherited_sockets</title>
<polygon fill="none" stroke="skyblue" points="892.5,-2813 892.5,-2839 1115.5,-2839 1115.5,-2813 892.5,-2813"/>
<text text-anchor="middle" x="1004" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_add_inherited_sockets</text>
</g>
<!-- main&#45;&gt;ngx_add_inherited_sockets -->
<g id="edge14" class="edge"><title>main&#45;&gt;ngx_add_inherited_sockets</title>
<path fill="none" stroke="crimson" d="M1099.12,-3121.97C1084.21,-3075.74 1030.5,-2909.18 1011.07,-2848.94"/>
<polygon fill="crimson" stroke="crimson" points="1014.36,-2847.73 1007.96,-2839.29 1007.7,-2849.88 1014.36,-2847.73"/>
<text text-anchor="middle" x="1093.5" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">6</text>
</g>
<!-- ngx_init_cycle -->
<g id="node17" class="node"><title>ngx_init_cycle</title>
<polygon fill="none" stroke="skyblue" points="2871,-2473 2871,-2499 3003,-2499 3003,-2473 2871,-2473"/>
<text text-anchor="middle" x="2937" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_init_cycle</text>
</g>
<!-- main&#45;&gt;ngx_init_cycle -->
<g id="edge16" class="edge"><title>main&#45;&gt;ngx_init_cycle</title>
<path fill="none" stroke="crimson" d="M1136.36,-3133.84C1256.09,-3132.98 1675.22,-3127.6 2019,-3094 2253.91,-3071.04 2341.63,-3135.48 2544,-3014 2653.05,-2948.54 2870.1,-2597.61 2924.44,-2507.89"/>
<polygon fill="crimson" stroke="crimson" points="2927.55,-2509.52 2929.72,-2499.15 2921.56,-2505.91 2927.55,-2509.52"/>
<text text-anchor="middle" x="2878" y="-2849.2" font-family="KaiTi_GB2312" font-size="16.00">7</text>
<text text-anchor="middle" x="2878" y="-2831.2" font-family="KaiTi_GB2312" font-size="16.00">加载配置</text>
<text text-anchor="middle" x="2878" y="-2813.2" font-family="KaiTi_GB2312" font-size="16.00">初始化模块</text>
<text text-anchor="middle" x="2878" y="-2795.2" font-family="KaiTi_GB2312" font-size="16.00">打开监听端口。</text>
</g>
<!-- ngx_signal_process -->
<g id="node19" class="node"><title>ngx_signal_process</title>
<polygon fill="none" stroke="skyblue" points="7195.5,-2813 7195.5,-2839 7360.5,-2839 7360.5,-2813 7195.5,-2813"/>
<text text-anchor="middle" x="7278" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_signal_process</text>
</g>
<!-- main&#45;&gt;ngx_signal_process -->
<g id="edge18" class="edge"><title>main&#45;&gt;ngx_signal_process</title>
<path fill="none" stroke="crimson" d="M1136.3,-3134.05C1606.56,-3134.8 6901.58,-3142.07 7052,-3094 7171.54,-3055.8 7245.35,-2905.31 7269.37,-2848.69"/>
<polygon fill="crimson" stroke="crimson" points="7272.68,-2849.84 7273.27,-2839.26 7266.21,-2847.16 7272.68,-2849.84"/>
<text text-anchor="middle" x="7218" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">8ngx_signal==1</text>
</g>
<!-- ngx_init_signals -->
<g id="node21" class="node"><title>ngx_init_signals</title>
<polygon fill="none" stroke="skyblue" points="6991.5,-2473 6991.5,-2499 7140.5,-2499 7140.5,-2473 6991.5,-2473"/>
<text text-anchor="middle" x="7066" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_init_signals</text>
</g>
<!-- main&#45;&gt;ngx_init_signals -->
<g id="edge20" class="edge"><title>main&#45;&gt;ngx_init_signals</title>
<path fill="none" stroke="crimson" d="M1136.13,-3133.92C1603.88,-3132.78 6870.04,-3117.56 6987,-3014 7025.64,-2979.78 7056.95,-2604.74 7064.34,-2509.1"/>
<polygon fill="crimson" stroke="crimson" points="7067.83,-2509.33 7065.11,-2499.09 7060.85,-2508.79 7067.83,-2509.33"/>
<text text-anchor="middle" x="7113" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">9初始化信号相关</text>
</g>
<!-- ngx_daemon -->
<g id="node23" class="node"><title>ngx_daemon</title>
<polygon fill="none" stroke="skyblue" points="7379.5,-2813 7379.5,-2839 7478.5,-2839 7478.5,-2813 7379.5,-2813"/>
<text text-anchor="middle" x="7429" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_daemon</text>
</g>
<!-- main&#45;&gt;ngx_daemon -->
<g id="edge22" class="edge"><title>main&#45;&gt;ngx_daemon</title>
<path fill="none" stroke="crimson" d="M1136.18,-3133.95C1618.7,-3133.18 7203.45,-3123.63 7280,-3094 7329.6,-3074.8 7340.1,-3058.65 7369,-3014 7403.42,-2960.83 7419.48,-2886.35 7425.7,-2849.49"/>
<polygon fill="crimson" stroke="crimson" points="7429.21,-2849.75 7427.33,-2839.32 7422.29,-2848.64 7429.21,-2849.75"/>
<text text-anchor="middle" x="7436.5" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">10进入守护进程模式</text>
</g>
<!-- ngx_create_pidfile -->
<g id="node25" class="node"><title>ngx_create_pidfile</title>
<polygon fill="none" stroke="skyblue" points="2706.5,-2161 2706.5,-2187 2871.5,-2187 2871.5,-2161 2706.5,-2161"/>
<text text-anchor="middle" x="2789" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_create_pidfile</text>
</g>
<!-- main&#45;&gt;ngx_create_pidfile -->
<g id="edge24" class="edge"><title>main&#45;&gt;ngx_create_pidfile</title>
<path fill="none" stroke="crimson" d="M1105.68,-3121.81C1110.31,-3100.21 1119.71,-3053.74 1124,-3014 1131.24,-2946.84 1110.2,-2454.73 1158,-2407 1217.34,-2347.76 1826.24,-2347.93 1910,-2344 1931.84,-2342.98 2678.15,-2347.07 2697,-2336 2748.83,-2305.57 2773.99,-2233.9 2783.82,-2197.32"/>
<polygon fill="crimson" stroke="crimson" points="2787.32,-2197.74 2786.39,-2187.18 2780.54,-2196.02 2787.32,-2197.74"/>
<text text-anchor="middle" x="1136.5" y="-2620.2" font-family="KaiTi_GB2312" font-size="16.00">11</text>
</g>
<!-- ngx_single_process_cycle -->
<g id="node27" class="node"><title>ngx_single_process_cycle</title>
<polygon fill="none" stroke="skyblue" points="2127.5,-2813 2127.5,-2839 2342.5,-2839 2342.5,-2813 2127.5,-2813"/>
<text text-anchor="middle" x="2235" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_single_process_cycle</text>
</g>
<!-- main&#45;&gt;ngx_single_process_cycle -->
<g id="edge26" class="edge"><title>main&#45;&gt;ngx_single_process_cycle</title>
<path fill="none" stroke="crimson" d="M1136.11,-3132.61C1244.42,-3127.27 1597.09,-3103.66 1872,-3014 2005.39,-2970.5 2149.49,-2882.49 2208.02,-2844.8"/>
<polygon fill="crimson" stroke="crimson" points="2210.17,-2847.57 2216.66,-2839.19 2206.36,-2841.69 2210.17,-2847.57"/>
<text text-anchor="middle" x="1924" y="-3054.2" font-family="KaiTi_GB2312" font-size="16.00">12single process model</text>
</g>
<!-- ngx_master_process_cycle -->
<g id="node29" class="node"><title>ngx_master_process_cycle</title>
<polygon fill="none" stroke="skyblue" points="3895.5,-2722 3895.5,-2930 4324.5,-2930 4324.5,-2722 3895.5,-2722"/>
<text text-anchor="middle" x="4110" y="-2913.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_setproctitle</text>
<polyline fill="none" stroke="skyblue" points="3895.5,-2904 4324.5,-2904 "/>
<text text-anchor="middle" x="4110" y="-2887.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_start_worker_processes</text>
<polyline fill="none" stroke="skyblue" points="3895.5,-2878 4324.5,-2878 "/>
<text text-anchor="middle" x="4110" y="-2861.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_start_cache_manager_processesngx_reap_children</text>
<polyline fill="none" stroke="skyblue" points="3895.5,-2852 4324.5,-2852 "/>
<text text-anchor="middle" x="4110" y="-2835.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_master_process_exit</text>
<polyline fill="none" stroke="skyblue" points="3895.5,-2826 4324.5,-2826 "/>
<text text-anchor="middle" x="4110" y="-2809.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_signal_worker_processes</text>
<polyline fill="none" stroke="skyblue" points="3895.5,-2800 4324.5,-2800 "/>
<text text-anchor="middle" x="4110" y="-2783.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_init_cyclengx_reopen_files</text>
<polyline fill="none" stroke="skyblue" points="3895.5,-2774 4324.5,-2774 "/>
<text text-anchor="middle" x="4110" y="-2757.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_exec_new_binary</text>
<polyline fill="none" stroke="skyblue" points="3895.5,-2748 4324.5,-2748 "/>
<text text-anchor="middle" x="4110" y="-2731.2" font-family="KaiTi_GB2312" font-size="16.00">cluster_ngx_master_process_cycle_forloop</text>
</g>
<!-- main&#45;&gt;ngx_master_process_cycle -->
<g id="edge28" class="edge"><title>main&#45;&gt;ngx_master_process_cycle</title>
<path fill="none" stroke="crimson" d="M1136.08,-3133.91C1432.23,-3132.96 3623.01,-3122.23 3891,-3014 3933.99,-2996.64 3974.57,-2967.31 4008.85,-2936.98"/>
<polygon fill="crimson" stroke="crimson" points="4011.42,-2939.37 4016.52,-2930.08 4006.74,-2934.16 4011.42,-2939.37"/>
<text text-anchor="middle" x="3954.5" y="-3063.2" font-family="KaiTi_GB2312" font-size="16.00">13master&#45;worker model</text>
<text text-anchor="middle" x="3954.5" y="-3045.2" font-family="KaiTi_GB2312" font-size="16.00">进入masterworker多进程模式</text>
</g>
<!-- ngx_set_inherited_sockets -->
<g id="node31" class="node"><title>ngx_set_inherited_sockets</title>
<polygon fill="none" stroke="skyblue" points="787.5,-2473 787.5,-2499 1010.5,-2499 1010.5,-2473 787.5,-2473"/>
<text text-anchor="middle" x="899" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_set_inherited_sockets</text>
</g>
<!-- ngx_add_inherited_sockets&#45;&gt;ngx_set_inherited_sockets -->
<g id="edge30" class="edge"><title>ngx_add_inherited_sockets&#45;&gt;ngx_set_inherited_sockets</title>
<path fill="none" stroke="crimson" d="M993.961,-2812.7C971.747,-2784.58 918.903,-2712.6 900,-2642 887.726,-2596.16 891.887,-2539.93 895.665,-2509.37"/>
<polygon fill="crimson" stroke="crimson" points="899.15,-2509.71 897.009,-2499.34 892.212,-2508.78 899.15,-2509.71"/>
<text text-anchor="middle" x="1007.5" y="-2620.2" font-family="KaiTi_GB2312" font-size="16.00">SO_RCVBUF,TCP_DEFER_ACCEPT</text>
</g>
<!-- ngx_init_cycle&#45;&gt;ngx_create_pidfile -->
<g id="edge55" class="edge"><title>ngx_init_cycle&#45;&gt;ngx_create_pidfile</title>
<path fill="none" stroke="crimson" d="M2931.2,-2472.85C2908.82,-2425.97 2827.92,-2256.52 2799.2,-2196.37"/>
<polygon fill="crimson" stroke="crimson" points="2802.23,-2194.58 2794.76,-2187.07 2795.91,-2197.6 2802.23,-2194.58"/>
</g>
<!-- ngx_time_update -->
<g id="node47" class="node"><title>ngx_time_update</title>
<polygon fill="none" stroke="skyblue" points="2890,-2161 2890,-2187 3030,-2187 3030,-2161 2890,-2161"/>
<text text-anchor="middle" x="2960" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_time_update</text>
</g>
<!-- ngx_init_cycle&#45;&gt;ngx_time_update -->
<g id="edge47" class="edge"><title>ngx_init_cycle&#45;&gt;ngx_time_update</title>
<path fill="none" stroke="crimson" d="M2928.87,-2472.79C2913.75,-2448.64 2883.67,-2392.86 2893,-2344 2903.63,-2288.33 2932.31,-2227.61 2948.49,-2196.31"/>
<polygon fill="crimson" stroke="crimson" points="2951.71,-2197.71 2953.27,-2187.23 2945.52,-2194.45 2951.71,-2197.71"/>
<text text-anchor="middle" x="2926.5" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">更新时间</text>
</g>
<!-- module_create_conf -->
<g id="node49" class="node"><title>module_create_conf</title>
<polygon fill="none" stroke="skyblue" points="3048.5,-2161 3048.5,-2187 3213.5,-2187 3213.5,-2161 3048.5,-2161"/>
<text text-anchor="middle" x="3131" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">module_create_conf</text>
</g>
<!-- ngx_init_cycle&#45;&gt;module_create_conf -->
<g id="edge49" class="edge"><title>ngx_init_cycle&#45;&gt;module_create_conf</title>
<path fill="none" stroke="crimson" d="M2939.25,-2472.92C2945.28,-2441.96 2962.69,-2361.06 2983,-2344 3002.25,-2327.83 3018.2,-2350.13 3039,-2336 3088.47,-2302.39 3114.59,-2232.77 3125.2,-2197.11"/>
<polygon fill="crimson" stroke="crimson" points="3128.64,-2197.78 3128,-2187.21 3121.91,-2195.88 3128.64,-2197.78"/>
<text text-anchor="middle" x="3090.5" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">module&#45;&gt;create_conf(cycle)</text>
</g>
<!-- ngx_conf_parse -->
<g id="node51" class="node"><title>ngx_conf_parse</title>
<polygon fill="none" stroke="skyblue" points="2556,-2161 2556,-2187 2688,-2187 2688,-2161 2556,-2161"/>
<text text-anchor="middle" x="2622" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_parse</text>
</g>
<!-- ngx_init_cycle&#45;&gt;ngx_conf_parse -->
<g id="edge51" class="edge"><title>ngx_init_cycle&#45;&gt;ngx_conf_parse</title>
<path fill="none" stroke="crimson" d="M2903.53,-2472.94C2851.81,-2452.64 2752.6,-2406.76 2697,-2336 2662.6,-2292.22 2639.41,-2230.09 2628.73,-2197.28"/>
<polygon fill="crimson" stroke="crimson" points="2631.95,-2195.83 2625.6,-2187.35 2625.27,-2197.94 2631.95,-2195.83"/>
<text text-anchor="middle" x="2798" y="-2367.2" font-family="KaiTi_GB2312" font-size="16.00">加载配置文件</text>
<text text-anchor="middle" x="2798" y="-2349.2" font-family="KaiTi_GB2312" font-size="16.00">并回调各个句柄</text>
</g>
<!-- module_init_conf -->
<g id="node53" class="node"><title>module_init_conf</title>
<polygon fill="none" stroke="skyblue" points="3231.5,-2161 3231.5,-2187 3380.5,-2187 3380.5,-2161 3231.5,-2161"/>
<text text-anchor="middle" x="3306" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">module_init_conf</text>
</g>
<!-- ngx_init_cycle&#45;&gt;module_init_conf -->
<g id="edge53" class="edge"><title>ngx_init_cycle&#45;&gt;module_init_conf</title>
<path fill="none" stroke="crimson" d="M2997.93,-2472.97C3055.25,-2459 3140.61,-2431.04 3198,-2380 3205.66,-2373.19 3269.64,-2247.17 3295.36,-2196.17"/>
<polygon fill="crimson" stroke="crimson" points="3298.59,-2197.53 3299.96,-2187.02 3292.34,-2194.38 3298.59,-2197.53"/>
<text text-anchor="middle" x="3317.5" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">module&#45;&gt;init_conf(cycle)</text>
</g>
<!-- ngx_open_listening_sockets -->
<g id="node56" class="node"><title>ngx_open_listening_sockets</title>
<polygon fill="none" stroke="skyblue" points="3398.5,-2161 3398.5,-2187 3629.5,-2187 3629.5,-2161 3398.5,-2161"/>
<text text-anchor="middle" x="3514" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_open_listening_sockets</text>
</g>
<!-- ngx_init_cycle&#45;&gt;ngx_open_listening_sockets -->
<g id="edge57" class="edge"><title>ngx_init_cycle&#45;&gt;ngx_open_listening_sockets</title>
<path fill="none" stroke="crimson" d="M3003.17,-2477.96C3119.95,-2464.36 3356.31,-2431.23 3420,-2380 3435.42,-2367.6 3485.09,-2246.99 3505.31,-2196.77"/>
<polygon fill="crimson" stroke="crimson" points="3508.68,-2197.77 3509.16,-2187.19 3502.18,-2195.16 3508.68,-2197.77"/>
<text text-anchor="middle" x="3523" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">一个个打开监听端口。</text>
</g>
<!-- ngx_modules_i_init_module -->
<g id="node58" class="node"><title>ngx_modules_i_init_module</title>
<polygon fill="none" stroke="skyblue" points="3647.5,-2161 3647.5,-2187 3870.5,-2187 3870.5,-2161 3647.5,-2161"/>
<text text-anchor="middle" x="3759" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_modules_i_init_module</text>
</g>
<!-- ngx_init_cycle&#45;&gt;ngx_modules_i_init_module -->
<g id="edge59" class="edge"><title>ngx_init_cycle&#45;&gt;ngx_modules_i_init_module</title>
<path fill="none" stroke="crimson" d="M3003.25,-2481.05C3152.07,-2471.18 3507.77,-2441.65 3609,-2380 3682.75,-2335.08 3731.43,-2238.95 3750.25,-2196.22"/>
<polygon fill="crimson" stroke="crimson" points="3753.47,-2197.6 3754.2,-2187.03 3747.04,-2194.84 3753.47,-2197.6"/>
<text text-anchor="middle" x="3772" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">调用每个模块的init_module回调</text>
</g>
<!-- ngx_event_module_init -->
<g id="node141" class="node"><title>ngx_event_module_init</title>
<polygon fill="none" stroke="skyblue" points="5775.5,-2148 5775.5,-2200 6072.5,-2200 6072.5,-2148 5775.5,-2148"/>
<text text-anchor="middle" x="5924" y="-2183.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_module_init</text>
<polyline fill="none" stroke="skyblue" points="5775.5,-2174 6072.5,-2174 "/>
<text text-anchor="middle" x="5924" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">分配ngx_accept_mutex_ptr等共享内存</text>
</g>
<!-- ngx_init_cycle&#45;&gt;ngx_event_module_init -->
<g id="edge148" class="edge"><title>ngx_init_cycle&#45;&gt;ngx_event_module_init</title>
<path fill="none" stroke="crimson" d="M3003.16,-2478.52C3157.26,-2463.66 3552.16,-2426.87 3883,-2407 3987.5,-2400.73 5670.25,-2378.33 5766,-2336 5826.77,-2309.13 5876.39,-2247.16 5902.95,-2208.41"/>
<polygon fill="crimson" stroke="crimson" points="5905.9,-2210.3 5908.57,-2200.05 5900.09,-2206.39 5905.9,-2210.3"/>
<text text-anchor="middle" x="5789.5" y="-2367.2" font-family="KaiTi_GB2312" font-size="16.00">回调模块初始化函数</text>
<text text-anchor="middle" x="5789.5" y="-2349.2" font-family="KaiTi_GB2312" font-size="16.00">创建工作进程之前</text>
</g>
<!-- ngx_os_signal_process -->
<g id="node41" class="node"><title>ngx_os_signal_process</title>
<polygon fill="none" stroke="skyblue" points="7197,-2473 7197,-2499 7387,-2499 7387,-2473 7197,-2473"/>
<text text-anchor="middle" x="7292" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_os_signal_process</text>
</g>
<!-- ngx_signal_process&#45;&gt;ngx_os_signal_process -->
<g id="edge40" class="edge"><title>ngx_signal_process&#45;&gt;ngx_os_signal_process</title>
<path fill="none" stroke="crimson" d="M7278.5,-2812.97C7280.55,-2763.39 7288.38,-2574.43 7291.08,-2509.26"/>
<polygon fill="crimson" stroke="crimson" points="7294.58,-2509.37 7291.49,-2499.24 7287.58,-2509.09 7294.58,-2509.37"/>
</g>
<!-- sigaction -->
<g id="node33" class="node"><title>sigaction</title>
<polygon fill="none" stroke="skyblue" points="6992.5,-2161 6992.5,-2187 7083.5,-2187 7083.5,-2161 6992.5,-2161"/>
<text text-anchor="middle" x="7038" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">sigaction</text>
</g>
<!-- ngx_init_signals&#45;&gt;sigaction -->
<g id="edge32" class="edge"><title>ngx_init_signals&#45;&gt;sigaction</title>
<path fill="none" stroke="crimson" d="M7064.9,-2472.85C7060.69,-2426.16 7045.49,-2257.92 7040,-2197.12"/>
<polygon fill="crimson" stroke="crimson" points="7043.48,-2196.71 7039.09,-2187.07 7036.5,-2197.34 7043.48,-2196.71"/>
</g>
<!-- signals_ary -->
<g id="node35" class="node"><title>signals_ary</title>
<polygon fill="none" stroke="skyblue" points="7238.5,-2161 7238.5,-2187 7379.5,-2187 7379.5,-2161 7238.5,-2161"/>
<text text-anchor="middle" x="7251" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">0</text>
<polyline fill="none" stroke="skyblue" points="7263.5,-2161 7263.5,-2187 "/>
<text text-anchor="middle" x="7276" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">1</text>
<polyline fill="none" stroke="skyblue" points="7288.5,-2161 7288.5,-2187 "/>
<text text-anchor="middle" x="7301" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">2</text>
<polyline fill="none" stroke="skyblue" points="7313.5,-2161 7313.5,-2187 "/>
<text text-anchor="middle" x="7334" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">```</text>
<polyline fill="none" stroke="skyblue" points="7354.5,-2161 7354.5,-2187 "/>
<text text-anchor="middle" x="7367" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">n</text>
</g>
<!-- ngx_init_signals&#45;&gt;signals_ary -->
<g id="edge34" class="edge"><title>ngx_init_signals&#45;&gt;signals_ary</title>
<path fill="none" stroke="black" d="M7083.16,-2472.74C7115.16,-2449.21 7184.7,-2394.79 7229,-2336 7263.07,-2290.79 7289.02,-2228.83 7301.25,-2196.54"/>
<polygon fill="black" stroke="black" points="7304.54,-2197.76 7304.74,-2187.16 7297.97,-2195.32 7304.54,-2197.76"/>
</g>
<!-- fork -->
<g id="node37" class="node"><title>fork</title>
<polygon fill="none" stroke="skyblue" points="7405,-2473 7405,-2499 7455,-2499 7455,-2473 7405,-2473"/>
<text text-anchor="middle" x="7430" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">fork</text>
</g>
<!-- ngx_daemon&#45;&gt;fork -->
<g id="edge36" class="edge"><title>ngx_daemon&#45;&gt;fork</title>
<path fill="none" stroke="crimson" d="M7429.04,-2812.97C7429.18,-2763.39 7429.74,-2574.43 7429.93,-2509.26"/>
<polygon fill="crimson" stroke="crimson" points="7433.43,-2509.25 7429.96,-2499.24 7426.43,-2509.23 7433.43,-2509.25"/>
</g>
<!-- Ngx_file_c -->
<g id="node39" class="node"><title>Ngx_file_c</title>
<polygon fill="none" stroke="skyblue" points="3887,-1666 3887,-1952 4093,-1952 4093,-1666 3887,-1666"/>
<text text-anchor="middle" x="3990" y="-1935.2" font-family="KaiTi_GB2312" font-size="16.00">Ngx_file.c</text>
<polyline fill="none" stroke="skyblue" points="3887,-1926 4093,-1926 "/>
<text text-anchor="middle" x="3990" y="-1909.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_read_file</text>
<polyline fill="none" stroke="skyblue" points="3887,-1900 4093,-1900 "/>
<text text-anchor="middle" x="3990" y="-1883.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_write_file</text>
<polyline fill="none" stroke="skyblue" points="3887,-1874 4093,-1874 "/>
<text text-anchor="middle" x="3990" y="-1857.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_open_tempfile</text>
<polyline fill="none" stroke="skyblue" points="3887,-1848 4093,-1848 "/>
<text text-anchor="middle" x="3990" y="-1831.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_create_file_mapping</text>
<polyline fill="none" stroke="skyblue" points="3887,-1822 4093,-1822 "/>
<text text-anchor="middle" x="3990" y="-1805.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_close_file_mapping</text>
<polyline fill="none" stroke="skyblue" points="3887,-1796 4093,-1796 "/>
<text text-anchor="middle" x="3990" y="-1779.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_open_dir</text>
<polyline fill="none" stroke="skyblue" points="3887,-1770 4093,-1770 "/>
<text text-anchor="middle" x="3990" y="-1753.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_read_dir</text>
<polyline fill="none" stroke="skyblue" points="3887,-1744 4093,-1744 "/>
<text text-anchor="middle" x="3990" y="-1727.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_trylock_fd</text>
<polyline fill="none" stroke="skyblue" points="3887,-1718 4093,-1718 "/>
<text text-anchor="middle" x="3990" y="-1701.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_lock_fd</text>
<polyline fill="none" stroke="skyblue" points="3887,-1692 4093,-1692 "/>
<text text-anchor="middle" x="3990" y="-1675.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_unlock_fd</text>
</g>
<!-- ngx_create_pidfile&#45;&gt;Ngx_file_c -->
<g id="edge38" class="edge"><title>ngx_create_pidfile&#45;&gt;Ngx_file_c</title>
<path fill="none" stroke="crimson" d="M2793.56,-2160.62C2804.17,-2133.78 2833.31,-2070.45 2881,-2043 3265.59,-1821.65 3489.15,-2165.61 3877.71,-1955.8"/>
<polygon fill="crimson" stroke="crimson" points="3879.55,-1958.78 3886.63,-1950.9 3876.18,-1952.65 3879.55,-1958.78"/>
</g>
<!-- ngx_single_process_cycle&#45;&gt;ngx_init_cycle -->
<g id="edge86" class="edge"><title>ngx_single_process_cycle&#45;&gt;ngx_init_cycle</title>
<path fill="none" stroke="crimson" d="M2240.27,-2812.79C2253.55,-2783.45 2291.3,-2708.51 2346,-2669 2368.66,-2652.64 2745.55,-2542.46 2885.35,-2501.92"/>
<polygon fill="crimson" stroke="crimson" points="2886.37,-2505.27 2895,-2499.13 2884.42,-2498.55 2886.37,-2505.27"/>
<text text-anchor="middle" x="2612.5" y="-2620.2" font-family="KaiTi_GB2312" font-size="16.00">3ngx_reconfigure</text>
</g>
<!-- ngx_modules -->
<g id="node72" class="node"><title>ngx_modules</title>
<polygon fill="none" stroke="red" points="6605.5,-2408 6605.5,-2564 6762.5,-2564 6762.5,-2408 6605.5,-2408"/>
<text text-anchor="middle" x="6684" y="-2547.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_core_module</text>
<polyline fill="none" stroke="red" points="6605.5,-2538 6762.5,-2538 "/>
<text text-anchor="middle" x="6684" y="-2521.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_errlog_module</text>
<polyline fill="none" stroke="red" points="6605.5,-2512 6762.5,-2512 "/>
<text text-anchor="middle" x="6684" y="-2495.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_module</text>
<polyline fill="none" stroke="red" points="6605.5,-2486 6762.5,-2486 "/>
<text text-anchor="middle" x="6684" y="-2469.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_module</text>
<polyline fill="none" stroke="red" points="6605.5,-2460 6762.5,-2460 "/>
<text text-anchor="middle" x="6684" y="-2443.2" font-family="KaiTi_GB2312" font-size="16.00">&#45;&#45;&#45;</text>
<polyline fill="none" stroke="red" points="6605.5,-2434 6762.5,-2434 "/>
<text text-anchor="middle" x="6684" y="-2417.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_module</text>
</g>
<!-- ngx_single_process_cycle&#45;&gt;ngx_modules -->
<g id="edge80" class="edge"><title>ngx_single_process_cycle&#45;&gt;ngx_modules</title>
<path fill="none" stroke="crimson" d="M2239.28,-2812.67C2250.8,-2781.69 2285.71,-2700.75 2346,-2669 2447.47,-2615.56 6362.93,-2626.56 6474,-2598 6516.53,-2587.06 6560,-2566.02 6596.29,-2545.17"/>
<polygon fill="crimson" stroke="crimson" points="6598.48,-2547.95 6605.35,-2539.88 6594.95,-2541.9 6598.48,-2547.95"/>
<text text-anchor="middle" x="6337" y="-2629.2" font-family="KaiTi_GB2312" font-size="16.00">0init_process</text>
<text text-anchor="middle" x="6337" y="-2611.2" font-family="KaiTi_GB2312" font-size="16.00">exit_process</text>
</g>
<!-- ngx_process_events_and_timers -->
<g id="node82" class="node"><title>ngx_process_events_and_timers</title>
<polygon fill="none" stroke="skyblue" points="1884,-2473 1884,-2499 2140,-2499 2140,-2473 1884,-2473"/>
<text text-anchor="middle" x="2012" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_process_events_and_timers</text>
</g>
<!-- ngx_single_process_cycle&#45;&gt;ngx_process_events_and_timers -->
<g id="edge82" class="edge"><title>ngx_single_process_cycle&#45;&gt;ngx_process_events_and_timers</title>
<path fill="none" stroke="crimson" d="M2227.06,-2812.97C2194.08,-2762.98 2067.62,-2571.3 2025.63,-2507.67"/>
<polygon fill="crimson" stroke="crimson" points="2028.5,-2505.66 2020.07,-2499.24 2022.66,-2509.51 2028.5,-2505.66"/>
<text text-anchor="middle" x="2115.5" y="-2620.2" font-family="KaiTi_GB2312" font-size="16.00">1</text>
</g>
<!-- ngx_master_process_exit -->
<g id="node84" class="node"><title>ngx_master_process_exit</title>
<polygon fill="none" stroke="skyblue" points="2158,-2473 2158,-2499 2364,-2499 2364,-2473 2158,-2473"/>
<text text-anchor="middle" x="2261" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_master_process_exit</text>
</g>
<!-- ngx_single_process_cycle&#45;&gt;ngx_master_process_exit -->
<g id="edge84" class="edge"><title>ngx_single_process_cycle&#45;&gt;ngx_master_process_exit</title>
<path fill="none" stroke="crimson" d="M2225.39,-2812.56C2200.67,-2779 2138.73,-2683.88 2166,-2606 2180.38,-2564.93 2215.54,-2527.48 2238.82,-2505.97"/>
<polygon fill="crimson" stroke="crimson" points="2241.41,-2508.34 2246.5,-2499.05 2236.73,-2503.14 2241.41,-2508.34"/>
<text text-anchor="middle" x="2224" y="-2620.2" font-family="KaiTi_GB2312" font-size="16.00">2ngx_terminate</text>
</g>
<!-- ngx_reopen_files -->
<g id="node87" class="node"><title>ngx_reopen_files</title>
<polygon fill="none" stroke="skyblue" points="2382.5,-2473 2382.5,-2499 2531.5,-2499 2531.5,-2473 2382.5,-2473"/>
<text text-anchor="middle" x="2457" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_reopen_files</text>
</g>
<!-- ngx_single_process_cycle&#45;&gt;ngx_reopen_files -->
<g id="edge88" class="edge"><title>ngx_single_process_cycle&#45;&gt;ngx_reopen_files</title>
<path fill="none" stroke="crimson" d="M2237.1,-2812.93C2244.65,-2771.11 2271.66,-2633.48 2305,-2606 2328.48,-2586.65 2346.59,-2613.12 2373,-2598 2409.08,-2577.34 2434.6,-2534.33 2447.46,-2508.33"/>
<polygon fill="crimson" stroke="crimson" points="2450.63,-2509.81 2451.76,-2499.28 2444.31,-2506.81 2450.63,-2509.81"/>
<text text-anchor="middle" x="2350.5" y="-2620.2" font-family="KaiTi_GB2312" font-size="16.00">4ngx_reopen</text>
</g>
<!-- ngx_master_process_cycle&#45;&gt;ngx_time_update -->
<g id="edge91" class="edge"><title>ngx_master_process_cycle&#45;&gt;ngx_time_update</title>
<path fill="none" stroke="crimson" d="M3989.9,-2721.83C3959.43,-2700.8 3925.5,-2681.36 3891,-2669 3675.21,-2591.71 3058.29,-2716.36 2862,-2598 2752.52,-2531.99 2638.99,-2436.73 2727,-2344 2738.72,-2331.65 2865.77,-2345.34 2880,-2336 2928.47,-2304.18 2948.72,-2233.75 2956.19,-2197.51"/>
<polygon fill="crimson" stroke="crimson" points="2959.67,-2197.92 2958.11,-2187.44 2952.8,-2196.61 2959.67,-2197.92"/>
</g>
<!-- ngx_start_cache_manager_processes -->
<g id="node91" class="node"><title>ngx_start_cache_manager_processes</title>
<polygon fill="none" stroke="skyblue" points="3965.5,-2473 3965.5,-2499 4254.5,-2499 4254.5,-2473 3965.5,-2473"/>
<text text-anchor="middle" x="4110" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_start_cache_manager_processes</text>
</g>
<!-- ngx_master_process_cycle&#45;&gt;ngx_start_cache_manager_processes -->
<g id="edge93" class="edge"><title>ngx_master_process_cycle&#45;&gt;ngx_start_cache_manager_processes</title>
<path fill="none" stroke="crimson" d="M4110,-2721.75C4110,-2646.9 4110,-2551.67 4110,-2509.19"/>
<polygon fill="crimson" stroke="crimson" points="4113.5,-2509.12 4110,-2499.12 4106.5,-2509.12 4113.5,-2509.12"/>
</g>
<!-- signals_data -->
<g id="node67" class="node"><title>signals_data</title>
<polygon fill="none" stroke="skyblue" points="7133,-1757 7133,-1861 7291,-1861 7291,-1757 7133,-1757"/>
<text text-anchor="middle" x="7212" y="-1844.2" font-family="123" font-size="16.00">SIGHUP</text>
<polyline fill="none" stroke="skyblue" points="7133,-1835 7291,-1835 "/>
<text text-anchor="middle" x="7212" y="-1818.2" font-family="123" font-size="16.00">&#39;SIGHUP&#39;</text>
<polyline fill="none" stroke="skyblue" points="7133,-1809 7291,-1809 "/>
<text text-anchor="middle" x="7212" y="-1792.2" font-family="123" font-size="16.00">&#39;reload&#39;</text>
<polyline fill="none" stroke="skyblue" points="7133,-1783 7291,-1783 "/>
<text text-anchor="middle" x="7212" y="-1766.2" font-family="123" font-size="16.00">ngx_signal_handler</text>
</g>
<!-- signals_ary&#45;&gt;signals_data -->
<g id="edge68" class="edge"><title>signals_ary:head&#45;&gt;signals_data</title>
<path fill="none" stroke="black" d="M7251,-2160C7251,-2058.17 7234.49,-1940.69 7222.96,-1871.03"/>
<polygon fill="black" stroke="black" points="7226.4,-1870.39 7221.29,-1861.1 7219.49,-1871.54 7226.4,-1870.39"/>
<text text-anchor="middle" x="7333" y="-1994.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_signal_t signals[]</text>
</g>
<!-- ngx_os_signal_process&#45;&gt;signals_ary -->
<g id="edge44" class="edge"><title>ngx_os_signal_process&#45;&gt;signals_ary</title>
<path fill="none" stroke="black" d="M7292.67,-2472.85C7295.23,-2426.16 7304.45,-2257.92 7307.79,-2197.12"/>
<polygon fill="black" stroke="black" points="7311.29,-2197.25 7308.34,-2187.07 7304.3,-2196.86 7311.29,-2197.25"/>
</g>
<!-- kill -->
<g id="node43" class="node"><title>kill</title>
<polygon fill="none" stroke="skyblue" points="7441,-2161 7441,-2187 7491,-2187 7491,-2161 7441,-2161"/>
<text text-anchor="middle" x="7466" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">kill</text>
</g>
<!-- ngx_os_signal_process&#45;&gt;kill -->
<g id="edge42" class="edge"><title>ngx_os_signal_process&#45;&gt;kill</title>
<path fill="none" stroke="crimson" d="M7309.2,-2472.92C7340.27,-2450.08 7405.47,-2397.31 7437,-2336 7460.35,-2290.59 7465.21,-2229.55 7466.03,-2197.23"/>
<polygon fill="crimson" stroke="crimson" points="7469.53,-2197.12 7466.17,-2187.07 7462.53,-2197.02 7469.53,-2197.12"/>
</g>
<!-- ngx_conf_param -->
<g id="node60" class="node"><title>ngx_conf_param</title>
<polygon fill="none" stroke="skyblue" points="2915,-1796 2915,-1822 3047,-1822 3047,-1796 2915,-1796"/>
<text text-anchor="middle" x="2981" y="-1805.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_param</text>
</g>
<!-- ngx_conf_parse&#45;&gt;ngx_conf_param -->
<g id="edge61" class="edge"><title>ngx_conf_parse&#45;&gt;ngx_conf_param</title>
<path fill="none" stroke="crimson" d="M2625.13,-2160.89C2632.62,-2134.59 2654.2,-2072.27 2697,-2043 2762.32,-1998.32 2808.6,-2061.99 2873,-2016 2936.94,-1970.35 2966.07,-1875.1 2976.37,-1832.01"/>
<polygon fill="crimson" stroke="crimson" points="2979.84,-1832.54 2978.65,-1822.01 2973.02,-1830.99 2979.84,-1832.54"/>
</g>
<!-- ngx_conf_read_token -->
<g id="node62" class="node"><title>ngx_conf_read_token</title>
<polygon fill="none" stroke="skyblue" points="2556.5,-1796 2556.5,-1822 2729.5,-1822 2729.5,-1796 2556.5,-1796"/>
<text text-anchor="middle" x="2643" y="-1805.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_read_token</text>
</g>
<!-- ngx_conf_parse&#45;&gt;ngx_conf_read_token -->
<g id="edge63" class="edge"><title>ngx_conf_parse&#45;&gt;ngx_conf_read_token</title>
<path fill="none" stroke="crimson" d="M2622.7,-2160.92C2625.73,-2108.6 2637.73,-1901.04 2641.71,-1832.27"/>
<polygon fill="crimson" stroke="crimson" points="2645.22,-1832.31 2642.3,-1822.12 2638.23,-1831.9 2645.22,-1832.31"/>
</g>
<!-- ngx_conf_handler -->
<g id="node64" class="node"><title>ngx_conf_handler</title>
<polygon fill="none" stroke="skyblue" points="2747.5,-1796 2747.5,-1822 2896.5,-1822 2896.5,-1796 2747.5,-1796"/>
<text text-anchor="middle" x="2822" y="-1805.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_handler</text>
</g>
<!-- ngx_conf_parse&#45;&gt;ngx_conf_handler -->
<g id="edge65" class="edge"><title>ngx_conf_parse&#45;&gt;ngx_conf_handler</title>
<path fill="none" stroke="crimson" d="M2628.65,-2160.92C2657.66,-2108.28 2773.26,-1898.47 2810.43,-1831.01"/>
<polygon fill="crimson" stroke="crimson" points="2813.56,-1832.57 2815.32,-1822.12 2807.43,-1829.19 2813.56,-1832.57"/>
<text text-anchor="middle" x="2798.5" y="-2003.2" font-family="KaiTi_GB2312" font-size="16.00">寻找指令</text>
<text text-anchor="middle" x="2798.5" y="-1985.2" font-family="KaiTi_GB2312" font-size="16.00">调用指令的set回调</text>
</g>
<!-- signals_s -->
<g id="node66" class="node"><title>signals_s</title>
<polygon fill="none" stroke="skyblue" points="7102,-2122 7102,-2226 7220,-2226 7220,-2122 7102,-2122"/>
<text text-anchor="middle" x="7161" y="-2209.2" font-family="123" font-size="16.00">int signo</text>
<polyline fill="none" stroke="skyblue" points="7102,-2200 7220,-2200 "/>
<text text-anchor="middle" x="7161" y="-2183.2" font-family="123" font-size="16.00">char *signame</text>
<polyline fill="none" stroke="skyblue" points="7102,-2174 7220,-2174 "/>
<text text-anchor="middle" x="7161" y="-2157.2" font-family="123" font-size="16.00">char *name</text>
<polyline fill="none" stroke="skyblue" points="7102,-2148 7220,-2148 "/>
<text text-anchor="middle" x="7161" y="-2131.2" font-family="123" font-size="16.00">handler</text>
</g>
<!-- signals_s&#45;&gt;signals_data -->
<g id="edge70" class="edge"><title>signals_s&#45;&gt;signals_data</title>
<path fill="none" stroke="black" d="M7137.85,-2121.94C7123.17,-2082.89 7109.01,-2027.8 7121,-1980 7130.79,-1940.97 7151.45,-1901.11 7170.61,-1869.81"/>
<polygon fill="black" stroke="black" points="7173.65,-1871.56 7175.96,-1861.22 7167.71,-1867.85 7173.65,-1871.56"/>
<text text-anchor="middle" x="7171" y="-1994.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_signal_t</text>
</g>
<!-- ngx_module_s -->
<g id="node71" class="node"><title>ngx_module_s</title>
<polygon fill="none" stroke="skyblue" points="6678,-2670 6678,-2982 6884,-2982 6884,-2670 6678,-2670"/>
<text text-anchor="middle" x="6781" y="-2965.2" font-family="KaiTi_GB2312" font-size="16.00">ctx_index</text>
<polyline fill="none" stroke="skyblue" points="6678,-2956 6884,-2956 "/>
<text text-anchor="middle" x="6781" y="-2939.2" font-family="KaiTi_GB2312" font-size="16.00">index</text>
<polyline fill="none" stroke="skyblue" points="6678,-2930 6884,-2930 "/>
<text text-anchor="middle" x="6781" y="-2913.2" font-family="KaiTi_GB2312" font-size="16.00">ctx</text>
<polyline fill="none" stroke="skyblue" points="6678,-2904 6884,-2904 "/>
<text text-anchor="middle" x="6781" y="-2887.2" font-family="KaiTi_GB2312" font-size="16.00">commands</text>
<polyline fill="none" stroke="skyblue" points="6678,-2878 6884,-2878 "/>
<text text-anchor="middle" x="6781" y="-2861.2" font-family="KaiTi_GB2312" font-size="16.00">type</text>
<polyline fill="none" stroke="skyblue" points="6678,-2852 6884,-2852 "/>
<text text-anchor="middle" x="6781" y="-2835.2" font-family="KaiTi_GB2312" font-size="16.00">init_master</text>
<polyline fill="none" stroke="skyblue" points="6678,-2826 6884,-2826 "/>
<text text-anchor="middle" x="6781" y="-2809.2" font-family="KaiTi_GB2312" font-size="16.00">init_module</text>
<polyline fill="none" stroke="skyblue" points="6678,-2800 6884,-2800 "/>
<text text-anchor="middle" x="6781" y="-2783.2" font-family="KaiTi_GB2312" font-size="16.00">init_process</text>
<polyline fill="none" stroke="skyblue" points="6678,-2774 6884,-2774 "/>
<text text-anchor="middle" x="6781" y="-2757.2" font-family="KaiTi_GB2312" font-size="16.00">init_threadexit_process</text>
<polyline fill="none" stroke="skyblue" points="6678,-2748 6884,-2748 "/>
<text text-anchor="middle" x="6781" y="-2731.2" font-family="KaiTi_GB2312" font-size="16.00">exit_thread</text>
<polyline fill="none" stroke="skyblue" points="6678,-2722 6884,-2722 "/>
<text text-anchor="middle" x="6781" y="-2705.2" font-family="KaiTi_GB2312" font-size="16.00">exit_master</text>
<polyline fill="none" stroke="skyblue" points="6678,-2696 6884,-2696 "/>
<text text-anchor="middle" x="6781" y="-2679.2" font-family="KaiTi_GB2312" font-size="16.00">spare_hook*</text>
</g>
<!-- ngx_module_s&#45;&gt;ngx_modules -->
<g id="edge73" class="edge"><title>ngx_module_s&#45;&gt;ngx_modules</title>
<path fill="none" stroke="black" d="M6736.47,-2669.85C6727.03,-2636.95 6717.39,-2603.35 6708.99,-2574.07"/>
<polygon fill="black" stroke="black" points="6712.31,-2572.96 6706.19,-2564.32 6705.58,-2574.89 6712.31,-2572.96"/>
</g>
<!-- ngx_conf_module -->
<g id="node74" class="node"><title>ngx_conf_module</title>
<polygon fill="none" stroke="skyblue" points="6486.5,-2109 6486.5,-2239 6783.5,-2239 6783.5,-2109 6486.5,-2109"/>
<text text-anchor="middle" x="6635" y="-2222.2" font-family="KaiTi_GB2312" font-size="16.00">*</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2213 6783.5,-2213 "/>
<text text-anchor="middle" x="6635" y="-2196.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2187 6783.5,-2187 "/>
<text text-anchor="middle" x="6635" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_core_commands</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2161 6783.5,-2161 "/>
<text text-anchor="middle" x="6635" y="-2144.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2135 6783.5,-2135 "/>
<text text-anchor="middle" x="6635" y="-2118.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_flush_files(exit process)</text>
</g>
<!-- ngx_modules&#45;&gt;ngx_conf_module -->
<g id="edge75" class="edge"><title>ngx_modules:ngx_conf_module&#45;&gt;ngx_conf_module</title>
<path fill="none" stroke="black" d="M6604,-2499C6503.92,-2499 6557.15,-2343.93 6599.47,-2248.35"/>
<polygon fill="black" stroke="black" points="6602.76,-2249.57 6603.65,-2239.01 6596.37,-2246.71 6602.76,-2249.57"/>
</g>
<!-- ngx_http_module -->
<g id="node75" class="node"><title>ngx_http_module</title>
<polygon fill="none" stroke="skyblue" points="6801.5,-2109 6801.5,-2239 6974.5,-2239 6974.5,-2109 6801.5,-2109"/>
<text text-anchor="middle" x="6888" y="-2222.2" font-family="KaiTi_GB2312" font-size="16.00">*</text>
<polyline fill="none" stroke="skyblue" points="6801.5,-2213 6974.5,-2213 "/>
<text text-anchor="middle" x="6888" y="-2196.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_module_ctx</text>
<polyline fill="none" stroke="skyblue" points="6801.5,-2187 6974.5,-2187 "/>
<text text-anchor="middle" x="6888" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_commands</text>
<polyline fill="none" stroke="skyblue" points="6801.5,-2161 6974.5,-2161 "/>
<text text-anchor="middle" x="6888" y="-2144.2" font-family="KaiTi_GB2312" font-size="16.00">NGX_CORE_MODULE</text>
<polyline fill="none" stroke="skyblue" points="6801.5,-2135 6974.5,-2135 "/>
<text text-anchor="middle" x="6888" y="-2118.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
</g>
<!-- ngx_modules&#45;&gt;ngx_http_module -->
<g id="edge77" class="edge"><title>ngx_modules:ngx_http_module&#45;&gt;ngx_http_module</title>
<path fill="none" stroke="black" d="M6684,-2407C6684,-2376.71 6685.67,-2362.05 6710,-2344 6739.41,-2322.18 6761.08,-2355.61 6792,-2336 6823.89,-2315.77 6846.6,-2280.8 6861.89,-2248.61"/>
<polygon fill="black" stroke="black" points="6865.23,-2249.72 6866.2,-2239.17 6858.86,-2246.81 6865.23,-2249.72"/>
</g>
<!-- ngx_core_module -->
<g id="node73" class="node"><title>ngx_core_module</title>
<polygon fill="none" stroke="skyblue" points="6486.5,-2761 6486.5,-2891 6659.5,-2891 6659.5,-2761 6486.5,-2761"/>
<text text-anchor="middle" x="6573" y="-2874.2" font-family="KaiTi_GB2312" font-size="16.00">*</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2865 6659.5,-2865 "/>
<text text-anchor="middle" x="6573" y="-2848.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_core_module_ctx</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2839 6659.5,-2839 "/>
<text text-anchor="middle" x="6573" y="-2822.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_core_commands</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2813 6659.5,-2813 "/>
<text text-anchor="middle" x="6573" y="-2796.2" font-family="KaiTi_GB2312" font-size="16.00">NGX_CORE_MODULE</text>
<polyline fill="none" stroke="skyblue" points="6486.5,-2787 6659.5,-2787 "/>
<text text-anchor="middle" x="6573" y="-2770.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
</g>
<!-- ngx_process_events -->
<g id="node170" class="node"><title>ngx_process_events</title>
<polygon fill="none" stroke="skyblue" points="4349.5,-2473 4349.5,-2499 4514.5,-2499 4514.5,-2473 4349.5,-2473"/>
<text text-anchor="middle" x="4432" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_process_events</text>
</g>
<!-- ngx_process_events_and_timers&#45;&gt;ngx_process_events -->
<g id="edge171" class="edge"><title>ngx_process_events_and_timers&#45;&gt;ngx_process_events</title>
<path fill="none" stroke="crimson" d="M2019.78,-2499.18C2038.76,-2529.84 2090.83,-2605.48 2158,-2633.5 2213.63,-2656.71 4274.49,-2661.25 4328,-2633.5 4378.92,-2607.1 4410.2,-2543.03 4423.88,-2508.67"/>
<polygon fill="crimson" stroke="crimson" points="4427.27,-2509.62 4427.57,-2499.03 4420.73,-2507.12 4427.27,-2509.62"/>
</g>
<!-- ngx_http_fastcgi_handler -->
<g id="node93" class="node"><title>ngx_http_fastcgi_handler</title>
<polygon fill="none" stroke="skyblue" points="6236.5,-101 6236.5,-127 6451.5,-127 6451.5,-101 6236.5,-101"/>
<text text-anchor="middle" x="6344" y="-110.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_fastcgi_handler</text>
</g>
<!-- ngx_http_upstream_create -->
<g id="node95" class="node"><title>ngx_http_upstream_create</title>
<polygon fill="none" stroke="skyblue" points="6236.5,-17 6236.5,-43 6451.5,-43 6451.5,-17 6236.5,-17"/>
<text text-anchor="middle" x="6344" y="-26.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_upstream_create</text>
</g>
<!-- ngx_http_fastcgi_handler&#45;&gt;ngx_http_upstream_create -->
<g id="edge96" class="edge"><title>ngx_http_fastcgi_handler&#45;&gt;ngx_http_upstream_create</title>
<path fill="none" stroke="crimson" d="M6344,-100.901C6344,-88.4252 6344,-68.6863 6344,-53.3611"/>
<polygon fill="crimson" stroke="crimson" points="6347.5,-53.149 6344,-43.149 6340.5,-53.1491 6347.5,-53.149"/>
</g>
<!-- ngx_http_read_client_request_body -->
<g id="node97" class="node"><title>ngx_http_read_client_request_body</title>
<polygon fill="none" stroke="skyblue" points="6469.5,-17 6469.5,-43 6758.5,-43 6758.5,-17 6469.5,-17"/>
<text text-anchor="middle" x="6614" y="-26.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_read_client_request_body</text>
</g>
<!-- ngx_http_fastcgi_handler&#45;&gt;ngx_http_read_client_request_body -->
<g id="edge98" class="edge"><title>ngx_http_fastcgi_handler&#45;&gt;ngx_http_read_client_request_body</title>
<path fill="none" stroke="crimson" d="M6376.94,-100.983C6401.38,-92.2338 6435.59,-80.332 6466,-71 6495.57,-61.9243 6528.8,-52.8445 6556.27,-45.635"/>
<polygon fill="crimson" stroke="crimson" points="6557.32,-48.9786 6566.11,-43.067 6555.55,-42.2054 6557.32,-48.9786"/>
</g>
<!-- ngx_http_upstream_init -->
<g id="node110" class="node"><title>ngx_http_upstream_init</title>
<polygon fill="none" stroke="skyblue" points="5374,-1352 5374,-1378 5572,-1378 5572,-1352 5374,-1352"/>
<text text-anchor="middle" x="5473" y="-1361.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_upstream_init</text>
</g>
<!-- ngx_http_read_client_request_body&#45;&gt;ngx_http_upstream_init -->
<g id="edge107" class="edge"><title>ngx_http_read_client_request_body&#45;&gt;ngx_http_upstream_init</title>
<path fill="none" stroke="crimson" d="M6600.75,-43.199C6507.55,-129.456 5943.68,-658.677 5581,-1167 5538.34,-1226.79 5500.01,-1305.2 5482.72,-1342.5"/>
<polygon fill="crimson" stroke="crimson" points="5479.4,-1341.33 5478.41,-1351.88 5485.76,-1344.25 5479.4,-1341.33"/>
<text text-anchor="middle" x="6324" y="-449.2" font-family="KaiTi_GB2312" font-size="16.00">进入upstream处理阶段</text>
</g>
<!-- ngx_http_commands -->
<g id="node99" class="node"><title>ngx_http_commands</title>
<polygon fill="none" stroke="skyblue" points="5782,-1339 5782,-1391 6212,-1391 6212,-1339 5782,-1339"/>
<text text-anchor="middle" x="5997" y="-1374.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_commands</text>
<polyline fill="none" stroke="skyblue" points="5782,-1365 6212,-1365 "/>
<text text-anchor="middle" x="5815" y="-1348.2" font-family="KaiTi_GB2312" font-size="16.00">events</text>
<polyline fill="none" stroke="skyblue" points="5848,-1339 5848,-1365 "/>
<text text-anchor="middle" x="5922.5" y="-1348.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_block</text>
<polyline fill="none" stroke="skyblue" points="5997,-1339 5997,-1365 "/>
<text text-anchor="middle" x="6104.5" y="-1348.2" font-family="KaiTi_GB2312" font-size="16.00">当解析到events时调用这里</text>
</g>
<!-- ngx_http_module_ctx -->
<g id="node100" class="node"><title>ngx_http_module_ctx</title>
<polygon fill="none" stroke="skyblue" points="5590.5,-1313 5590.5,-1417 5763.5,-1417 5763.5,-1313 5590.5,-1313"/>
<text text-anchor="middle" x="5677" y="-1400.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_module_ctx</text>
<polyline fill="none" stroke="skyblue" points="5590.5,-1391 5763.5,-1391 "/>
<text text-anchor="middle" x="5629.5" y="-1374.2" font-family="KaiTi_GB2312" font-size="16.00">name</text>
<polyline fill="none" stroke="skyblue" points="5668.5,-1365 5668.5,-1391 "/>
<text text-anchor="middle" x="5716" y="-1374.2" font-family="KaiTi_GB2312" font-size="16.00">events</text>
<polyline fill="none" stroke="skyblue" points="5590.5,-1365 5763.5,-1365 "/>
<text text-anchor="middle" x="5648" y="-1348.2" font-family="KaiTi_GB2312" font-size="16.00">create_conf</text>
<polyline fill="none" stroke="skyblue" points="5705.5,-1339 5705.5,-1365 "/>
<text text-anchor="middle" x="5734.5" y="-1348.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
<polyline fill="none" stroke="skyblue" points="5590.5,-1339 5763.5,-1339 "/>
<text text-anchor="middle" x="5644" y="-1322.2" font-family="KaiTi_GB2312" font-size="16.00">init_conf</text>
<polyline fill="none" stroke="skyblue" points="5697.5,-1313 5697.5,-1339 "/>
<text text-anchor="middle" x="5730.5" y="-1322.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
</g>
<!-- ngx_http_block -->
<g id="node101" class="node"><title>ngx_http_block</title>
<polygon fill="none" stroke="skyblue" points="5050.5,-1168 5050.5,-1562 5355.5,-1562 5355.5,-1168 5050.5,-1168"/>
<text text-anchor="middle" x="5203" y="-1545.2" font-family="KaiTi_GB2312" font-size="16.00">调用各HTTP模块的create_main_conf</text>
<text text-anchor="middle" x="5203" y="-1527.2" font-family="KaiTi_GB2312" font-size="16.00">create_srv_conf</text>
<text text-anchor="middle" x="5203" y="-1509.2" font-family="KaiTi_GB2312" font-size="16.00">create_loc_conf</text>
<text text-anchor="middle" x="5203" y="-1491.2" font-family="KaiTi_GB2312" font-size="16.00">preconfiguration</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1482 5355.5,-1482 "/>
<text text-anchor="middle" x="5203" y="-1465.2" font-family="KaiTi_GB2312" font-size="16.00">调用ngx_conf_parse处理http{}配置</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1456 5355.5,-1456 "/>
<text text-anchor="middle" x="5203" y="-1439.2" font-family="KaiTi_GB2312" font-size="16.00">调用各HTTP模块的init_main_conf</text>
<text text-anchor="middle" x="5203" y="-1421.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_merge_servers合并配置</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1412 5355.5,-1412 "/>
<text text-anchor="middle" x="5203" y="-1395.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_locations</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1386 5355.5,-1386 "/>
<text text-anchor="middle" x="5203" y="-1369.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_static_location_trees</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1360 5355.5,-1360 "/>
<text text-anchor="middle" x="5203" y="-1343.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_phases</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1334 5355.5,-1334 "/>
<text text-anchor="middle" x="5203" y="-1317.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_headers_in_hash</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1308 5355.5,-1308 "/>
<text text-anchor="middle" x="5203" y="-1291.2" font-family="KaiTi_GB2312" font-size="16.00">调用各HTTP模块的postconfiguration</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1282 5355.5,-1282 "/>
<text text-anchor="middle" x="5203" y="-1265.2" font-family="KaiTi_GB2312" font-size="16.00">初始化变量系统</text>
<text text-anchor="middle" x="5203" y="-1247.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_variables_init_vars</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1238 5355.5,-1238 "/>
<text text-anchor="middle" x="5203" y="-1221.2" font-family="KaiTi_GB2312" font-size="16.00">初始化各个phase的句柄</text>
<text text-anchor="middle" x="5203" y="-1203.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_phase_handlers</text>
<polyline fill="none" stroke="skyblue" points="5050.5,-1194 5355.5,-1194 "/>
<text text-anchor="middle" x="5203" y="-1177.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_optimize_servers</text>
</g>
<!-- ngx_http_optimize_servers -->
<g id="node103" class="node"><title>ngx_http_optimize_servers</title>
<polygon fill="none" stroke="skyblue" points="5091.5,-1002 5091.5,-1028 5314.5,-1028 5314.5,-1002 5091.5,-1002"/>
<text text-anchor="middle" x="5203" y="-1011.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_optimize_servers</text>
</g>
<!-- ngx_http_block&#45;&gt;ngx_http_optimize_servers -->
<g id="edge101" class="edge"><title>ngx_http_block&#45;&gt;ngx_http_optimize_servers</title>
<path fill="none" stroke="crimson" d="M5203,-1167.88C5203,-1115.51 5203,-1065.86 5203,-1038.32"/>
<polygon fill="crimson" stroke="crimson" points="5206.5,-1038.24 5203,-1028.24 5199.5,-1038.24 5206.5,-1038.24"/>
</g>
<!-- ngx_http_init_listening -->
<g id="node104" class="node"><title>ngx_http_init_listening</title>
<polygon fill="none" stroke="skyblue" points="5100,-822 5100,-848 5306,-848 5306,-822 5100,-822"/>
<text text-anchor="middle" x="5203" y="-831.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_listening</text>
</g>
<!-- ngx_http_optimize_servers&#45;&gt;ngx_http_init_listening -->
<g id="edge102" class="edge"><title>ngx_http_optimize_servers&#45;&gt;ngx_http_init_listening</title>
<path fill="none" stroke="crimson" d="M5203,-1001.77C5203,-972.169 5203,-896.354 5203,-858.379"/>
<polygon fill="crimson" stroke="crimson" points="5206.5,-858.32 5203,-848.32 5199.5,-858.32 5206.5,-858.32"/>
</g>
<!-- ngx_http_add_listening -->
<g id="node105" class="node"><title>ngx_http_add_listening</title>
<polygon fill="none" stroke="skyblue" points="5104,-629 5104,-655 5302,-655 5302,-629 5104,-629"/>
<text text-anchor="middle" x="5203" y="-638.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_add_listening</text>
</g>
<!-- ngx_http_init_listening&#45;&gt;ngx_http_add_listening -->
<g id="edge103" class="edge"><title>ngx_http_init_listening&#45;&gt;ngx_http_add_listening</title>
<path fill="none" stroke="crimson" d="M5203,-821.762C5203,-790.303 5203,-706.247 5203,-665.613"/>
<polygon fill="crimson" stroke="crimson" points="5206.5,-665.384 5203,-655.384 5199.5,-665.384 5206.5,-665.384"/>
</g>
<!-- ngx_http_init_connection -->
<g id="node106" class="node"><title>ngx_http_init_connection</title>
<polygon fill="none" stroke="skyblue" points="4735.5,-1300 4735.5,-1430 5032.5,-1430 5032.5,-1300 4735.5,-1300"/>
<text text-anchor="middle" x="4884" y="-1413.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_connection</text>
<polyline fill="none" stroke="skyblue" points="4735.5,-1404 5032.5,-1404 "/>
<text text-anchor="middle" x="4884" y="-1387.2" font-family="KaiTi_GB2312" font-size="16.00">rev::handler=ngx_http_init_request</text>
<polyline fill="none" stroke="skyblue" points="4735.5,-1378 5032.5,-1378 "/>
<text text-anchor="middle" x="4884" y="-1361.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_request</text>
<polyline fill="none" stroke="skyblue" points="4735.5,-1352 5032.5,-1352 "/>
<text text-anchor="middle" x="4884" y="-1335.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_add_timer</text>
<polyline fill="none" stroke="skyblue" points="4735.5,-1326 5032.5,-1326 "/>
<text text-anchor="middle" x="4884" y="-1309.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_handle_read_event</text>
</g>
<!-- ngx_http_init_request -->
<g id="node107" class="node"><title>ngx_http_init_request</title>
<polygon fill="none" stroke="skyblue" points="4706.5,-954 4706.5,-1076 5061.5,-1076 5061.5,-954 4706.5,-954"/>
<text text-anchor="middle" x="4884" y="-1059.2" font-family="KaiTi_GB2312" font-size="16.00">第一次可读事件，初始化请求</text>
<text text-anchor="middle" x="4884" y="-1041.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_init_request</text>
<polyline fill="none" stroke="skyblue" points="4706.5,-1032 5061.5,-1032 "/>
<text text-anchor="middle" x="4884" y="-1015.2" font-family="KaiTi_GB2312" font-size="16.00">rev:handler=ngx_http_process_request_line</text>
<polyline fill="none" stroke="skyblue" points="4706.5,-1006 5061.5,-1006 "/>
<text text-anchor="middle" x="4884" y="-989.2" font-family="KaiTi_GB2312" font-size="16.00">init request structs</text>
<polyline fill="none" stroke="skyblue" points="4706.5,-980 5061.5,-980 "/>
<text text-anchor="middle" x="4884" y="-963.2" font-family="KaiTi_GB2312" font-size="16.00">rev:handler(rev)</text>
</g>
<!-- ngx_http_init_connection&#45;&gt;ngx_http_init_request -->
<g id="edge105" class="edge"><title>ngx_http_init_connection:ngx_http_init_request&#45;&gt;ngx_http_init_request</title>
<path fill="none" stroke="crimson" d="M5034,-1365C5041.33,-1365 5034.81,-1306.11 5033,-1299 5012.99,-1220.61 4967.49,-1139.78 4932,-1084.68"/>
<polygon fill="crimson" stroke="crimson" points="4934.78,-1082.53 4926.39,-1076.06 4928.91,-1086.35 4934.78,-1082.53"/>
<text text-anchor="middle" x="5057" y="-1127.2" font-family="KaiTi_GB2312" font-size="16.00">初始化连接相关数据后</text>
<text text-anchor="middle" x="5057" y="-1109.2" font-family="KaiTi_GB2312" font-size="16.00">初始化HTTP请求相关数据</text>
</g>
<!-- ngx_http_process_request_line -->
<g id="node112" class="node"><title>ngx_http_process_request_line</title>
<polygon fill="none" stroke="skyblue" points="4573,-774 4573,-896 4845,-896 4845,-774 4573,-774"/>
<text text-anchor="middle" x="4709" y="-879.2" font-family="KaiTi_GB2312" font-size="16.00">处理GET/POST /index.html</text>
<text text-anchor="middle" x="4709" y="-861.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_process_request_line()</text>
<polyline fill="none" stroke="skyblue" points="4573,-852 4845,-852 "/>
<text text-anchor="middle" x="4709" y="-835.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_read_request_header</text>
<polyline fill="none" stroke="skyblue" points="4573,-826 4845,-826 "/>
<text text-anchor="middle" x="4709" y="-809.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_parse_request_line</text>
<polyline fill="none" stroke="skyblue" points="4573,-800 4845,-800 "/>
<text text-anchor="middle" x="4709" y="-783.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_find_virtual_server</text>
</g>
<!-- ngx_http_init_request&#45;&gt;ngx_http_process_request_line -->
<g id="edge109" class="edge"><title>ngx_http_init_request:ngx_http_process_request_line&#45;&gt;ngx_http_process_request_line</title>
<path fill="none" stroke="crimson" d="M4884,-953C4884,-928.057 4871.56,-908.098 4853.32,-892.238"/>
<polygon fill="crimson" stroke="crimson" points="4855.15,-889.221 4845.16,-885.689 4850.77,-894.679 4855.15,-889.221"/>
</g>
<!-- ngx_http_process_request_headers -->
<g id="node113" class="node"><title>ngx_http_process_request_headers</title>
<polygon fill="none" stroke="skyblue" points="4560.5,-568 4560.5,-716 4857.5,-716 4857.5,-568 4560.5,-568"/>
<text text-anchor="middle" x="4709" y="-699.2" font-family="KaiTi_GB2312" font-size="16.00">处理Headers头部</text>
<text text-anchor="middle" x="4709" y="-681.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_process_request_headers()</text>
<polyline fill="none" stroke="skyblue" points="4560.5,-672 4857.5,-672 "/>
<text text-anchor="middle" x="4709" y="-655.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_read_request_header</text>
<polyline fill="none" stroke="skyblue" points="4560.5,-646 4857.5,-646 "/>
<text text-anchor="middle" x="4709" y="-629.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_parse_header_line</text>
<polyline fill="none" stroke="skyblue" points="4560.5,-620 4857.5,-620 "/>
<text text-anchor="middle" x="4709" y="-603.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_process_request_header</text>
<polyline fill="none" stroke="skyblue" points="4560.5,-594 4857.5,-594 "/>
<text text-anchor="middle" x="4709" y="-577.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_process_request</text>
</g>
<!-- ngx_http_process_request_line&#45;&gt;ngx_http_process_request_headers -->
<g id="edge119" class="edge"><title>ngx_http_process_request_line&#45;&gt;ngx_http_process_request_headers</title>
<path fill="none" stroke="crimson" d="M4709,-773.829C4709,-758.849 4709,-742.519 4709,-726.634"/>
<polygon fill="crimson" stroke="crimson" points="4712.5,-726.279 4709,-716.279 4705.5,-726.279 4712.5,-726.279"/>
</g>
<!-- ngx_http_process_request -->
<g id="node114" class="node"><title>ngx_http_process_request</title>
<polygon fill="none" stroke="skyblue" points="5447,-396 5447,-510 5695,-510 5695,-396 5447,-396"/>
<text text-anchor="middle" x="5571" y="-493.2" font-family="KaiTi_GB2312" font-size="16.00">设置读写回调句柄：</text>
<text text-anchor="middle" x="5571" y="-475.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_request_handler</text>
<text text-anchor="middle" x="5571" y="-457.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_block_reading</text>
<polyline fill="none" stroke="skyblue" points="5447,-448 5695,-448 "/>
<text text-anchor="middle" x="5571" y="-431.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_handler</text>
<polyline fill="none" stroke="skyblue" points="5447,-422 5695,-422 "/>
<text text-anchor="middle" x="5571" y="-405.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_run_posted_requests</text>
</g>
<!-- ngx_http_process_request_headers&#45;&gt;ngx_http_process_request -->
<g id="edge117" class="edge"><title>ngx_http_process_request_headers:nhpr&#45;&gt;ngx_http_process_request</title>
<path fill="none" stroke="crimson" d="M4859,-581C5062.85,-581 5294.51,-529.92 5436.71,-492.55"/>
<polygon fill="crimson" stroke="crimson" points="5438.02,-495.824 5446.8,-489.884 5436.23,-489.057 5438.02,-495.824"/>
</g>
<!-- ngx_http_run_posted_requests -->
<g id="node116" class="node"><title>ngx_http_run_posted_requests</title>
<polygon fill="none" stroke="skyblue" points="5447,-296 5447,-322 5695,-322 5695,-296 5447,-296"/>
<text text-anchor="middle" x="5571" y="-305.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_run_posted_requests</text>
</g>
<!-- ngx_http_process_request&#45;&gt;ngx_http_run_posted_requests -->
<g id="edge111" class="edge"><title>ngx_http_process_request&#45;&gt;ngx_http_run_posted_requests</title>
<path fill="none" stroke="crimson" d="M5571,-395.878C5571,-373.62 5571,-349.321 5571,-332.268"/>
<polygon fill="crimson" stroke="crimson" points="5574.5,-332.203 5571,-322.203 5567.5,-332.203 5574.5,-332.203"/>
<text text-anchor="middle" x="5612.5" y="-355.2" font-family="KaiTi_GB2312" font-size="16.00">处理子请求</text>
</g>
<!-- ngx_http_handler -->
<g id="node118" class="node"><title>ngx_http_handler</title>
<polygon fill="none" stroke="skyblue" points="5857.5,-296 5857.5,-322 6006.5,-322 6006.5,-296 5857.5,-296"/>
<text text-anchor="middle" x="5932" y="-305.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_handler</text>
</g>
<!-- ngx_http_process_request&#45;&gt;ngx_http_handler -->
<g id="edge113" class="edge"><title>ngx_http_process_request&#45;&gt;ngx_http_handler</title>
<path fill="none" stroke="crimson" d="M5695.24,-403.132C5763.78,-376.168 5844.36,-344.473 5891.64,-325.877"/>
<polygon fill="crimson" stroke="crimson" points="5893.18,-329.032 5901.2,-322.115 5890.61,-322.518 5893.18,-329.032"/>
<text text-anchor="middle" x="5859.5" y="-355.2" font-family="KaiTi_GB2312" font-size="16.00">准备长跑</text>
</g>
<!-- ngx_http_core_run_phases -->
<g id="node120" class="node"><title>ngx_http_core_run_phases</title>
<polygon fill="none" stroke="skyblue" points="5932.5,-212 5932.5,-238 6147.5,-238 6147.5,-212 5932.5,-212"/>
<text text-anchor="middle" x="6040" y="-221.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_core_run_phases</text>
</g>
<!-- ngx_http_handler&#45;&gt;ngx_http_core_run_phases -->
<g id="edge115" class="edge"><title>ngx_http_handler&#45;&gt;ngx_http_core_run_phases</title>
<path fill="none" stroke="crimson" d="M5947.94,-295.901C5965.88,-282.275 5995.24,-259.983 6015.97,-244.242"/>
<polygon fill="crimson" stroke="crimson" points="6018.15,-246.984 6024,-238.149 6013.92,-241.409 6018.15,-246.984"/>
</g>
<!-- ngx_http_core_run_phases&#45;&gt;ngx_http_fastcgi_handler -->
<g id="edge124" class="edge"><title>ngx_http_core_run_phases&#45;&gt;ngx_http_fastcgi_handler</title>
<path fill="none" stroke="crimson" d="M6095.22,-211.924C6132.22,-203.121 6181.73,-189.966 6224,-174 6255.44,-162.124 6289.7,-144.81 6313.54,-132.007"/>
<polygon fill="crimson" stroke="crimson" points="6315.33,-135.018 6322.44,-127.17 6311.99,-128.866 6315.33,-135.018"/>
</g>
<!-- ngx_http_core_find_config_phase -->
<g id="node124" class="node"><title>ngx_http_core_find_config_phase</title>
<polygon fill="none" stroke="skyblue" points="5904,-101 5904,-127 6176,-127 6176,-101 5904,-101"/>
<text text-anchor="middle" x="6040" y="-110.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_core_find_config_phase</text>
</g>
<!-- ngx_http_core_run_phases&#45;&gt;ngx_http_core_find_config_phase -->
<g id="edge121" class="edge"><title>ngx_http_core_run_phases&#45;&gt;ngx_http_core_find_config_phase</title>
<path fill="none" stroke="crimson" d="M6040,-211.919C6040,-193.913 6040,-159.741 6040,-137.165"/>
<polygon fill="crimson" stroke="crimson" points="6043.5,-137.135 6040,-127.135 6036.5,-137.136 6043.5,-137.135"/>
</g>
<!-- ngx_http_update_location_config -->
<g id="node125" class="node"><title>ngx_http_update_location_config</title>
<polygon fill="none" stroke="skyblue" points="5904,-17 5904,-43 6176,-43 6176,-17 5904,-17"/>
<text text-anchor="middle" x="6040" y="-26.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_update_location_config</text>
</g>
<!-- ngx_http_core_find_config_phase&#45;&gt;ngx_http_update_location_config -->
<g id="edge122" class="edge"><title>ngx_http_core_find_config_phase&#45;&gt;ngx_http_update_location_config</title>
<path fill="none" stroke="crimson" d="M6040,-100.901C6040,-88.4252 6040,-68.6863 6040,-53.3611"/>
<polygon fill="crimson" stroke="crimson" points="6043.5,-53.149 6040,-43.149 6036.5,-53.1491 6043.5,-53.149"/>
</g>
<!-- ngx_http_request_handler -->
<g id="node127" class="node"><title>ngx_http_request_handler</title>
<polygon fill="none" stroke="skyblue" points="4502.5,-1352 4502.5,-1378 4717.5,-1378 4717.5,-1352 4502.5,-1352"/>
<text text-anchor="middle" x="4610" y="-1361.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_http_request_handler</text>
</g>
<!-- ngx_events_commands -->
<g id="node129" class="node"><title>ngx_events_commands</title>
<polygon fill="none" stroke="skyblue" points="1430,-2800 1430,-2852 1860,-2852 1860,-2800 1430,-2800"/>
<text text-anchor="middle" x="1645" y="-2835.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_commands</text>
<polyline fill="none" stroke="skyblue" points="1430,-2826 1860,-2826 "/>
<text text-anchor="middle" x="1463" y="-2809.2" font-family="KaiTi_GB2312" font-size="16.00">events</text>
<polyline fill="none" stroke="skyblue" points="1496,-2800 1496,-2826 "/>
<text text-anchor="middle" x="1570.5" y="-2809.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_block</text>
<polyline fill="none" stroke="skyblue" points="1645,-2800 1645,-2826 "/>
<text text-anchor="middle" x="1752.5" y="-2809.2" font-family="KaiTi_GB2312" font-size="16.00">当解析到events时调用这里</text>
</g>
<!-- ngx_events_block -->
<g id="node132" class="node"><title>ngx_events_block</title>
<polygon fill="none" stroke="skyblue" points="1441,-2434 1441,-2538 1837,-2538 1837,-2434 1441,-2434"/>
<text text-anchor="middle" x="1639" y="-2521.2" font-family="KaiTi_GB2312" font-size="16.00">对NGX_EVENT_MODULE模块编号ctx_index</text>
<polyline fill="none" stroke="skyblue" points="1441,-2512 1837,-2512 "/>
<text text-anchor="middle" x="1639" y="-2495.2" font-family="KaiTi_GB2312" font-size="16.00">调用每个EVENT模块的create_conf函数设置其conf</text>
<polyline fill="none" stroke="skyblue" points="1441,-2486 1837,-2486 "/>
<text text-anchor="middle" x="1639" y="-2469.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_parse解析块数据</text>
<polyline fill="none" stroke="skyblue" points="1441,-2460 1837,-2460 "/>
<text text-anchor="middle" x="1639" y="-2443.2" font-family="KaiTi_GB2312" font-size="16.00">调用每个EVENT模块的init_conf函数初始化配置数据</text>
</g>
<!-- ngx_events_commands&#45;&gt;ngx_events_block -->
<g id="edge127" class="edge"><title>ngx_events_commands:func&#45;&gt;ngx_events_block</title>
<path fill="none" stroke="crimson" d="M1570,-2799C1570,-2710.01 1597.09,-2610.03 1617.33,-2547.79"/>
<polygon fill="crimson" stroke="crimson" points="1620.7,-2548.72 1620.51,-2538.13 1614.06,-2546.53 1620.7,-2548.72"/>
</g>
<!-- ngx_events_module_ctx -->
<g id="node130" class="node"><title>ngx_events_module_ctx</title>
<polygon fill="none" stroke="skyblue" points="1197,-2774 1197,-2878 1387,-2878 1387,-2774 1197,-2774"/>
<text text-anchor="middle" x="1292" y="-2861.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_module_ctx</text>
<polyline fill="none" stroke="skyblue" points="1197,-2852 1387,-2852 "/>
<text text-anchor="middle" x="1240.5" y="-2835.2" font-family="KaiTi_GB2312" font-size="16.00">name</text>
<polyline fill="none" stroke="skyblue" points="1284,-2826 1284,-2852 "/>
<text text-anchor="middle" x="1335.5" y="-2835.2" font-family="KaiTi_GB2312" font-size="16.00">events</text>
<polyline fill="none" stroke="skyblue" points="1197,-2826 1387,-2826 "/>
<text text-anchor="middle" x="1258.5" y="-2809.2" font-family="KaiTi_GB2312" font-size="16.00">create_conf</text>
<polyline fill="none" stroke="skyblue" points="1320,-2800 1320,-2826 "/>
<text text-anchor="middle" x="1353.5" y="-2809.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
<polyline fill="none" stroke="skyblue" points="1197,-2800 1387,-2800 "/>
<text text-anchor="middle" x="1254.5" y="-2783.2" font-family="KaiTi_GB2312" font-size="16.00">init_conf</text>
<polyline fill="none" stroke="skyblue" points="1312,-2774 1312,-2800 "/>
<text text-anchor="middle" x="1349.5" y="-2783.2" font-family="KaiTi_GB2312" font-size="16.00">NULL</text>
</g>
<!-- ngx_events_block&#45;&gt;ngx_conf_parse -->
<g id="edge129" class="edge"><title>ngx_events_block:confparse&#45;&gt;ngx_conf_parse</title>
<path fill="none" stroke="crimson" d="M1838,-2473C1871,-2473 1846.71,-2428.2 1872,-2407 2073.98,-2237.72 2398.72,-2191.8 2545.54,-2179.47"/>
<polygon fill="crimson" stroke="crimson" points="2546.12,-2182.93 2555.8,-2178.64 2545.55,-2175.96 2546.12,-2182.93"/>
<text text-anchor="middle" x="2041" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">解析events子模块数据</text>
</g>
<!-- ngx_event_core_module -->
<g id="node135" class="node"><title>ngx_event_core_module</title>
<polygon fill="none" stroke="skyblue" points="5747,-2421 5747,-2551 6053,-2551 6053,-2421 5747,-2421"/>
<text text-anchor="middle" x="5792.5" y="-2534.2" font-family="KaiTi_GB2312" font-size="16.00">ctx_index</text>
<polyline fill="none" stroke="skyblue" points="5838,-2525 5838,-2551 "/>
<text text-anchor="middle" x="5945.5" y="-2534.2" font-family="KaiTi_GB2312" font-size="16.00">在对应的模块类型中的序号</text>
<polyline fill="none" stroke="skyblue" points="5747,-2525 6053,-2525 "/>
<text text-anchor="middle" x="5900" y="-2508.2" font-family="KaiTi_GB2312" font-size="16.00">ctx</text>
<polyline fill="none" stroke="skyblue" points="5747,-2499 6053,-2499 "/>
<text text-anchor="middle" x="5900" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">commands</text>
<polyline fill="none" stroke="skyblue" points="5747,-2473 6053,-2473 "/>
<text text-anchor="middle" x="5900" y="-2456.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_module_init</text>
<polyline fill="none" stroke="skyblue" points="5747,-2447 6053,-2447 "/>
<text text-anchor="middle" x="5900" y="-2430.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_process_init</text>
</g>
<!-- ngx_event_core_module_ctx -->
<g id="node137" class="node"><title>ngx_event_core_module_ctx</title>
<polygon fill="none" stroke="skyblue" points="5460.5,-2122 5460.5,-2226 5757.5,-2226 5757.5,-2122 5460.5,-2122"/>
<text text-anchor="middle" x="5609" y="-2209.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_core_module_ctx</text>
<polyline fill="none" stroke="skyblue" points="5460.5,-2200 5757.5,-2200 "/>
<text text-anchor="middle" x="5522.5" y="-2183.2" font-family="KaiTi_GB2312" font-size="16.00">name</text>
<polyline fill="none" stroke="skyblue" points="5584.5,-2174 5584.5,-2200 "/>
<text text-anchor="middle" x="5671" y="-2183.2" font-family="KaiTi_GB2312" font-size="16.00">event_core</text>
<polyline fill="none" stroke="skyblue" points="5460.5,-2174 5757.5,-2174 "/>
<text text-anchor="middle" x="5514" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">create_conf</text>
<polyline fill="none" stroke="skyblue" points="5567.5,-2148 5567.5,-2174 "/>
<text text-anchor="middle" x="5662.5" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_create_conf</text>
<polyline fill="none" stroke="skyblue" points="5460.5,-2148 5757.5,-2148 "/>
<text text-anchor="middle" x="5514" y="-2131.2" font-family="KaiTi_GB2312" font-size="16.00">init_conf</text>
<polyline fill="none" stroke="skyblue" points="5567.5,-2122 5567.5,-2148 "/>
<text text-anchor="middle" x="5662.5" y="-2131.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_init_conf</text>
</g>
<!-- ngx_event_core_module&#45;&gt;ngx_event_core_module_ctx -->
<g id="edge132" class="edge"><title>ngx_event_core_module:ctx&#45;&gt;ngx_event_core_module_ctx</title>
<path fill="none" stroke="crimson" d="M5746,-2512C5628.39,-2512 5609.39,-2333.69 5607.77,-2236.47"/>
<polygon fill="crimson" stroke="crimson" points="5611.27,-2236.14 5607.66,-2226.18 5604.27,-2236.22 5611.27,-2236.14"/>
</g>
<!-- ngx_event_core_commands -->
<g id="node139" class="node"><title>ngx_event_core_commands</title>
<polygon fill="none" stroke="skyblue" points="6090.5,-2096 6090.5,-2252 6461.5,-2252 6461.5,-2096 6090.5,-2096"/>
<text text-anchor="middle" x="6173" y="-2235.2" font-family="KaiTi_GB2312" font-size="16.00">worker_connections</text>
<polyline fill="none" stroke="skyblue" points="6255.5,-2226 6255.5,-2252 "/>
<text text-anchor="middle" x="6358.5" y="-2235.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_connections()</text>
<polyline fill="none" stroke="skyblue" points="6090.5,-2226 6461.5,-2226 "/>
<text text-anchor="middle" x="6158.5" y="-2209.2" font-family="KaiTi_GB2312" font-size="16.00">connections</text>
<polyline fill="none" stroke="skyblue" points="6226.5,-2200 6226.5,-2226 "/>
<text text-anchor="middle" x="6344" y="-2209.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_connections()</text>
<polyline fill="none" stroke="skyblue" points="6090.5,-2200 6461.5,-2200 "/>
<text text-anchor="middle" x="6162.5" y="-2183.2" font-family="KaiTi_GB2312" font-size="16.00">use</text>
<polyline fill="none" stroke="skyblue" points="6234.5,-2174 6234.5,-2200 "/>
<text text-anchor="middle" x="6348" y="-2183.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_use</text>
<polyline fill="none" stroke="skyblue" points="6090.5,-2174 6461.5,-2174 "/>
<text text-anchor="middle" x="6158.5" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">multi_accept</text>
<polyline fill="none" stroke="skyblue" points="6226.5,-2148 6226.5,-2174 "/>
<text text-anchor="middle" x="6344" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_conf_set_flag_slot()</text>
<polyline fill="none" stroke="skyblue" points="6090.5,-2148 6461.5,-2148 "/>
<text text-anchor="middle" x="6206" y="-2131.2" font-family="KaiTi_GB2312" font-size="16.00">accept_mutex</text>
<polyline fill="none" stroke="skyblue" points="6321.5,-2122 6321.5,-2148 "/>
<text text-anchor="middle" x="6391.5" y="-2131.2" font-family="KaiTi_GB2312" font-size="16.00"> </text>
<polyline fill="none" stroke="skyblue" points="6090.5,-2122 6461.5,-2122 "/>
<text text-anchor="middle" x="6218" y="-2105.2" font-family="KaiTi_GB2312" font-size="16.00">accept_mutex_delay</text>
<polyline fill="none" stroke="skyblue" points="6345.5,-2096 6345.5,-2122 "/>
<text text-anchor="middle" x="6403.5" y="-2105.2" font-family="KaiTi_GB2312" font-size="16.00"> </text>
</g>
<!-- ngx_event_core_module&#45;&gt;ngx_event_core_commands -->
<g id="edge134" class="edge"><title>ngx_event_core_module:commands&#45;&gt;ngx_event_core_commands</title>
<path fill="none" stroke="crimson" d="M6054,-2486C6164.68,-2486 6225.39,-2353.9 6254.25,-2261.89"/>
<polygon fill="crimson" stroke="crimson" points="6257.61,-2262.86 6257.2,-2252.28 6250.92,-2260.81 6257.61,-2262.86"/>
<text text-anchor="middle" x="6272" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">支持的指令集</text>
</g>
<!-- ngx_event_core_module&#45;&gt;ngx_event_module_init -->
<g id="edge136" class="edge"><title>ngx_event_core_module:init_module&#45;&gt;ngx_event_module_init</title>
<path fill="none" stroke="crimson" d="M6054,-2460C6071.78,-2460 6063.99,-2433.98 6053,-2420 6010.91,-2366.42 5946.42,-2434.1 5905,-2380 5867.23,-2330.66 5889.52,-2253.79 5907.72,-2209.54"/>
<polygon fill="crimson" stroke="crimson" points="5911.05,-2210.66 5911.75,-2200.08 5904.61,-2207.91 5911.05,-2210.66"/>
</g>
<!-- ngx_event_core_module&#45;&gt;ngx_event_module_init -->
<g id="edge146" class="edge"><title>ngx_event_core_module:init_module&#45;&gt;ngx_event_module_init</title>
<path fill="none" stroke="crimson" d="M6054,-2460C6163.67,-2460 6019.9,-2283.16 5953.92,-2208.08"/>
<polygon fill="crimson" stroke="crimson" points="5956.28,-2205.46 5947.03,-2200.29 5951.03,-2210.1 5956.28,-2205.46"/>
<text text-anchor="middle" x="6088.5" y="-2358.2" font-family="KaiTi_GB2312" font-size="16.00">[]</text>
</g>
<!-- ngx_event_process_init -->
<g id="node143" class="node"><title>ngx_event_process_init</title>
<polygon fill="none" stroke="skyblue" points="5112,-2051 5112,-2297 5442,-2297 5442,-2051 5112,-2051"/>
<text text-anchor="middle" x="5277" y="-2280.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_process_init进程初始化时调用</text>
<polyline fill="none" stroke="skyblue" points="5112,-2271 5442,-2271 "/>
<text text-anchor="middle" x="5277" y="-2254.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_timer_init</text>
<text text-anchor="middle" x="5277" y="-2236.2" font-family="KaiTi_GB2312" font-size="16.00">初始化红黑树</text>
<polyline fill="none" stroke="skyblue" points="5112,-2227 5442,-2227 "/>
<text text-anchor="middle" x="5277" y="-2210.2" font-family="KaiTi_GB2312" font-size="16.00">调用使用的事件模型的action.init函数</text>
<text text-anchor="middle" x="5277" y="-2192.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_init设置使用epoll</text>
<polyline fill="none" stroke="skyblue" points="5112,-2183 5442,-2183 "/>
<text text-anchor="middle" x="5277" y="-2166.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_timer_resolution定时器设置</text>
<text text-anchor="middle" x="5277" y="-2148.2" font-family="KaiTi_GB2312" font-size="16.00">句柄:ngx_timer_signal_handler</text>
<text text-anchor="middle" x="5277" y="-2130.2" font-family="KaiTi_GB2312" font-size="16.00">设置定时器句柄</text>
<polyline fill="none" stroke="skyblue" points="5112,-2121 5442,-2121 "/>
<text text-anchor="middle" x="5277" y="-2104.2" font-family="KaiTi_GB2312" font-size="16.00">设置所有监听端口的读写handler为</text>
<text text-anchor="middle" x="5277" y="-2086.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_accept</text>
<polyline fill="none" stroke="skyblue" points="5112,-2077 5442,-2077 "/>
<text text-anchor="middle" x="5277" y="-2060.2" font-family="KaiTi_GB2312" font-size="16.00">将读写事件注册进opoll</text>
</g>
<!-- ngx_event_core_module&#45;&gt;ngx_event_process_init -->
<g id="edge138" class="edge"><title>ngx_event_core_module:init_process&#45;&gt;ngx_event_process_init</title>
<path fill="none" stroke="crimson" d="M5746,-2434C5607.84,-2434 5569.95,-2406.28 5451,-2336 5435.01,-2326.55 5419.25,-2315.43 5404.13,-2303.52"/>
<polygon fill="crimson" stroke="crimson" points="5406.28,-2300.75 5396.29,-2297.22 5401.9,-2306.21 5406.28,-2300.75"/>
</g>
<!-- ngx_event_create_conf -->
<g id="node145" class="node"><title>ngx_event_create_conf</title>
<polygon fill="none" stroke="skyblue" points="5416,-1783 5416,-1835 5606,-1835 5606,-1783 5416,-1783"/>
<text text-anchor="middle" x="5511" y="-1818.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_create_conf</text>
<polyline fill="none" stroke="skyblue" points="5416,-1809 5606,-1809 "/>
<text text-anchor="middle" x="5511" y="-1792.2" font-family="KaiTi_GB2312" font-size="16.00">简单的配置字段初始化</text>
</g>
<!-- ngx_event_core_module_ctx&#45;&gt;ngx_event_create_conf -->
<g id="edge140" class="edge"><title>ngx_event_core_module_ctx:cf&#45;&gt;ngx_event_create_conf</title>
<path fill="none" stroke="crimson" d="M5459,-2161C5450.11,-2161 5457.97,-2129.66 5460,-2121 5471.78,-2070.87 5497.6,-2066.22 5509,-2016 5522.33,-1957.28 5518.99,-1886.71 5515.14,-1845.26"/>
<polygon fill="crimson" stroke="crimson" points="5518.61,-1844.73 5514.14,-1835.13 5511.64,-1845.43 5518.61,-1844.73"/>
</g>
<!-- ngx_event_init_conf -->
<g id="node147" class="node"><title>ngx_event_init_conf</title>
<polygon fill="none" stroke="skyblue" points="5624,-1783 5624,-1835 5872,-1835 5872,-1783 5624,-1783"/>
<text text-anchor="middle" x="5748" y="-1818.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_init_conf</text>
<polyline fill="none" stroke="skyblue" points="5624,-1809 5872,-1809 "/>
<text text-anchor="middle" x="5748" y="-1792.2" font-family="KaiTi_GB2312" font-size="16.00">初始化ngx_event_conf_t结构体</text>
</g>
<!-- ngx_event_core_module_ctx&#45;&gt;ngx_event_init_conf -->
<g id="edge142" class="edge"><title>ngx_event_core_module_ctx:if&#45;&gt;ngx_event_init_conf</title>
<path fill="none" stroke="crimson" d="M5514,-2121C5514,-2087.25 5656.54,-1916.74 5719.12,-1843.5"/>
<polygon fill="crimson" stroke="crimson" points="5722.14,-1845.36 5725.99,-1835.48 5716.82,-1840.8 5722.14,-1845.36"/>
</g>
<!-- ngx_event_use -->
<g id="node149" class="node"><title>ngx_event_use</title>
<polygon fill="none" stroke="skyblue" points="6148,-1774 6148,-1844 6462,-1844 6462,-1774 6148,-1774"/>
<text text-anchor="middle" x="6305" y="-1827.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_use</text>
<polyline fill="none" stroke="skyblue" points="6148,-1818 6462,-1818 "/>
<text text-anchor="middle" x="6305" y="-1801.2" font-family="KaiTi_GB2312" font-size="16.00">根据名字在NGX_EVENT_MODULE中查找</text>
<text text-anchor="middle" x="6305" y="-1783.2" font-family="KaiTi_GB2312" font-size="16.00">将找到的epoll模块的下标放入use变量中</text>
</g>
<!-- ngx_event_core_commands&#45;&gt;ngx_event_use -->
<g id="edge144" class="edge"><title>ngx_event_core_commands:use&#45;&gt;ngx_event_use</title>
<path fill="none" stroke="crimson" d="M6463,-2187C6483.45,-2187 6467.2,-2114.77 6462,-2095 6437.38,-2001.4 6375.39,-1905.43 6337.08,-1852.19"/>
<polygon fill="crimson" stroke="crimson" points="6339.85,-1850.05 6331.14,-1844.01 6334.19,-1854.16 6339.85,-1850.05"/>
<text text-anchor="middle" x="6510.5" y="-1994.2" font-family="KaiTi_GB2312" font-size="16.00">&#39;use epoll&#39;指令解析</text>
</g>
<!-- ngx_event_accept -->
<g id="node153" class="node"><title>ngx_event_accept</title>
<polygon fill="none" stroke="red" points="5112.5,-1691 5112.5,-1927 5393.5,-1927 5393.5,-1691 5112.5,-1691"/>
<text text-anchor="middle" x="5253" y="-1910.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_accept</text>
<polyline fill="none" stroke="red" points="5112.5,-1901 5393.5,-1901 "/>
<text text-anchor="middle" x="5253" y="-1884.2" font-family="KaiTi_GB2312" font-size="16.00">循环accept()新连接</text>
<polyline fill="none" stroke="red" points="5112.5,-1875 5393.5,-1875 "/>
<text text-anchor="middle" x="5253" y="-1858.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_get_connection获取空连接结构</text>
<polyline fill="none" stroke="red" points="5112.5,-1849 5393.5,-1849 "/>
<text text-anchor="middle" x="5253" y="-1832.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_create_pool创建连接内存池</text>
<polyline fill="none" stroke="red" points="5112.5,-1823 5393.5,-1823 "/>
<text text-anchor="middle" x="5253" y="-1806.2" font-family="KaiTi_GB2312" font-size="16.00">设置c::recv=ngx_recv等</text>
<text text-anchor="middle" x="5253" y="-1788.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_os_io读写函数封装</text>
<polyline fill="none" stroke="red" points="5112.5,-1779 5393.5,-1779 "/>
<text text-anchor="middle" x="5253" y="-1762.2" font-family="KaiTi_GB2312" font-size="16.00">注册SOCK读写事件</text>
<polyline fill="none" stroke="red" points="5112.5,-1753 5393.5,-1753 "/>
<text text-anchor="middle" x="5253" y="-1736.2" font-family="KaiTi_GB2312" font-size="16.00">调用该监听SOCK的handler句柄</text>
<text text-anchor="middle" x="5253" y="-1718.2" font-family="KaiTi_GB2312" font-size="16.00">http为ngx_http_init_connection</text>
<text text-anchor="middle" x="5253" y="-1700.2" font-family="KaiTi_GB2312" font-size="16.00">最开头是在ngx_http_block设置的</text>
</g>
<!-- ngx_event_process_init&#45;&gt;ngx_event_accept -->
<g id="edge150" class="edge"><title>ngx_event_process_init:accept&#45;&gt;ngx_event_accept</title>
<path fill="none" stroke="crimson" d="M5443,-2099C5453.89,-2099 5448.61,-2058.66 5442,-2050 5409.67,-2007.63 5365.75,-2052.59 5327,-2016 5313.84,-2003.57 5300.22,-1971.85 5288.31,-1936.93"/>
<polygon fill="crimson" stroke="crimson" points="5291.48,-1935.38 5285,-1927 5284.84,-1937.6 5291.48,-1935.38"/>
<text text-anchor="middle" x="5418" y="-1994.2" font-family="KaiTi_GB2312" font-size="16.00">设置监听端口的可读句柄</text>
</g>
<!-- ngx_epoll_init -->
<g id="node159" class="node"><title>ngx_epoll_init</title>
<polygon fill="none" stroke="skyblue" points="4158,-1748 4158,-1870 4496,-1870 4496,-1748 4158,-1748"/>
<text text-anchor="middle" x="4327" y="-1853.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_init初始化epoll</text>
<polyline fill="none" stroke="skyblue" points="4158,-1844 4496,-1844 "/>
<text text-anchor="middle" x="4327" y="-1827.2" font-family="KaiTi_GB2312" font-size="16.00">epoll_create创建句柄</text>
<polyline fill="none" stroke="skyblue" points="4158,-1818 4496,-1818 "/>
<text text-anchor="middle" x="4327" y="-1801.2" font-family="KaiTi_GB2312" font-size="16.00">增加文件AIO异步读写支持</text>
<polyline fill="none" stroke="skyblue" points="4158,-1792 4496,-1792 "/>
<text text-anchor="middle" x="4327" y="-1775.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_module_ctx.actions</text>
<text text-anchor="middle" x="4327" y="-1757.2" font-family="KaiTi_GB2312" font-size="16.00">设置为事件模型指针数组ngx_event_actions</text>
</g>
<!-- ngx_event_process_init&#45;&gt;ngx_epoll_init -->
<g id="edge157" class="edge"><title>ngx_event_process_init:action_init&#45;&gt;ngx_epoll_init</title>
<path fill="none" stroke="crimson" d="M5111,-2205C5093.78,-2205 5106.13,-2066.19 5112,-2050 5118.67,-2031.6 5133.39,-2034.43 5140,-2016 5145.4,-2000.94 5151.04,-1991.58 5140,-1980 5096.08,-1933.96 4628.94,-1971.28 4568,-1953 4513.17,-1936.56 4457.82,-1905.02 4414.03,-1875.74"/>
<polygon fill="crimson" stroke="crimson" points="4415.95,-1872.81 4405.71,-1870.11 4412.03,-1878.61 4415.95,-1872.81"/>
<text text-anchor="middle" x="5217.5" y="-1994.2" font-family="KaiTi_GB2312" font-size="16.00">epoll相关的初始化</text>
</g>
<!-- ngx_event_accept&#45;&gt;ngx_http_init_connection -->
<g id="edge152" class="edge"><title>ngx_event_accept:lshandler&#45;&gt;ngx_http_init_connection</title>
<path fill="none" stroke="crimson" d="M5253,-1690C5253,-1625.99 5198.69,-1625.11 5139,-1602 5118.62,-1594.11 5059.91,-1604.94 5041,-1594 4981.35,-1559.48 4939.27,-1492.1 4913.79,-1439.5"/>
<polygon fill="crimson" stroke="crimson" points="4916.82,-1437.73 4909.38,-1430.2 4910.5,-1440.73 4916.82,-1437.73"/>
<text text-anchor="middle" x="5352" y="-1625.2" font-family="KaiTi_GB2312" font-size="16.00">调用http监听端口的专有回调函数</text>
<text text-anchor="middle" x="5352" y="-1607.2" font-family="KaiTi_GB2312" font-size="16.00">初始化HTTP相关的数据</text>
</g>
<!-- ngx_epoll_commands -->
<g id="node156" class="node"><title>ngx_epoll_commands</title>
<polygon fill="none" stroke="skyblue" points="4658,-2148 4658,-2200 5088,-2200 5088,-2148 4658,-2148"/>
<text text-anchor="middle" x="4873" y="-2183.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_commands</text>
<polyline fill="none" stroke="skyblue" points="4658,-2174 5088,-2174 "/>
<text text-anchor="middle" x="4691" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">events</text>
<polyline fill="none" stroke="skyblue" points="4724,-2148 4724,-2174 "/>
<text text-anchor="middle" x="4798.5" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_block</text>
<polyline fill="none" stroke="skyblue" points="4873,-2148 4873,-2174 "/>
<text text-anchor="middle" x="4980.5" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">当解析到events时调用这里</text>
</g>
<!-- ngx_epoll_module_ctx -->
<g id="node157" class="node"><title>ngx_epoll_module_ctx</title>
<polygon fill="none" stroke="skyblue" points="4109.5,-2044 4109.5,-2304 4406.5,-2304 4406.5,-2044 4109.5,-2044"/>
<text text-anchor="middle" x="4258" y="-2287.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_events_module_ctx</text>
<polyline fill="none" stroke="skyblue" points="4109.5,-2278 4406.5,-2278 "/>
<text text-anchor="middle" x="4181.5" y="-2261.2" font-family="KaiTi_GB2312" font-size="16.00">name</text>
<polyline fill="none" stroke="skyblue" points="4253.5,-2252 4253.5,-2278 "/>
<text text-anchor="middle" x="4330" y="-2261.2" font-family="KaiTi_GB2312" font-size="16.00">epoll</text>
<polyline fill="none" stroke="skyblue" points="4109.5,-2252 4406.5,-2252 "/>
<text text-anchor="middle" x="4163" y="-2235.2" font-family="KaiTi_GB2312" font-size="16.00">create_conf</text>
<polyline fill="none" stroke="skyblue" points="4216.5,-2226 4216.5,-2252 "/>
<text text-anchor="middle" x="4311.5" y="-2235.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_create_conf</text>
<polyline fill="none" stroke="skyblue" points="4109.5,-2226 4406.5,-2226 "/>
<text text-anchor="middle" x="4163" y="-2209.2" font-family="KaiTi_GB2312" font-size="16.00">init_conf</text>
<polyline fill="none" stroke="skyblue" points="4216.5,-2200 4216.5,-2226 "/>
<text text-anchor="middle" x="4311.5" y="-2209.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_init_conf</text>
<polyline fill="none" stroke="skyblue" points="4109.5,-2200 4406.5,-2200 "/>
<text text-anchor="middle" x="4148.5" y="-2118.2" font-family="KaiTi_GB2312" font-size="16.00">actions</text>
<polyline fill="none" stroke="skyblue" points="4187.5,-2044 4187.5,-2200 "/>
<text text-anchor="middle" x="4297" y="-2183.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_add_event</text>
<polyline fill="none" stroke="skyblue" points="4187.5,-2174 4406.5,-2174 "/>
<text text-anchor="middle" x="4297" y="-2157.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_del_event</text>
<polyline fill="none" stroke="skyblue" points="4187.5,-2148 4406.5,-2148 "/>
<text text-anchor="middle" x="4297" y="-2131.2" font-family="KaiTi_GB2312" font-size="16.00">```</text>
<polyline fill="none" stroke="skyblue" points="4187.5,-2122 4406.5,-2122 "/>
<text text-anchor="middle" x="4297" y="-2105.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_process_events</text>
<polyline fill="none" stroke="skyblue" points="4187.5,-2096 4406.5,-2096 "/>
<text text-anchor="middle" x="4297" y="-2079.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_init</text>
<polyline fill="none" stroke="skyblue" points="4187.5,-2070 4406.5,-2070 "/>
<text text-anchor="middle" x="4297" y="-2053.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_done</text>
</g>
<!-- ngx_epoll_module_ctx&#45;&gt;ngx_epoll_init -->
<g id="edge155" class="edge"><title>ngx_epoll_module_ctx:init&#45;&gt;ngx_epoll_init</title>
<path fill="none" stroke="crimson" d="M4408,-2083C4416.89,-2083 4412.92,-2049.63 4407,-2043 4348.71,-1977.75 4269.47,-2081.97 4212,-2016 4175.89,-1974.54 4209.26,-1919.92 4249.19,-1877.34"/>
<polygon fill="crimson" stroke="crimson" points="4251.76,-1879.71 4256.17,-1870.08 4246.72,-1874.86 4251.76,-1879.71"/>
<text text-anchor="middle" x="4361" y="-2003.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_event_process_init里面会调用这里</text>
<text text-anchor="middle" x="4361" y="-1985.2" font-family="KaiTi_GB2312" font-size="16.00">设置使用epoll模型</text>
</g>
<!-- ngx_epoll_process_events -->
<g id="node161" class="node"><title>ngx_epoll_process_events</title>
<polygon fill="none" stroke="skyblue" points="4424.5,-2161 4424.5,-2187 4639.5,-2187 4639.5,-2161 4424.5,-2161"/>
<text text-anchor="middle" x="4532" y="-2170.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_epoll_process_events</text>
</g>
<!-- ngx_epoll_process_events&#45;&gt;ngx_http_init_request -->
<g id="edge161" class="edge"><title>ngx_epoll_process_events&#45;&gt;ngx_http_init_request</title>
<path fill="none" stroke="crimson" d="M4541.94,-2160.77C4607.16,-2080.73 4973.29,-1633.86 5044,-1602 5058.9,-1595.28 6209.48,-1605.6 6221,-1594 6354.74,-1459.35 6349.8,-1306.38 6221,-1167 6134.84,-1073.76 5206.69,-1100.83 5082,-1077 5078.54,-1076.34 5075.05,-1075.64 5071.55,-1074.9"/>
<polygon fill="crimson" stroke="crimson" points="5072.15,-1071.45 5061.63,-1072.74 5070.66,-1078.29 5072.15,-1071.45"/>
<text text-anchor="middle" x="5089.5" y="-1616.2" font-family="KaiTi_GB2312" font-size="16.00">0 handler()</text>
</g>
<!-- ngx_epoll_process_events&#45;&gt;ngx_http_process_request_line -->
<g id="edge163" class="edge"><title>ngx_epoll_process_events&#45;&gt;ngx_http_process_request_line</title>
<path fill="none" stroke="crimson" d="M4532.92,-2160.99C4537.95,-2092.41 4559.93,-1750.43 4505,-1665 4468.13,-1607.65 4404.34,-1652.31 4369,-1594 4270.64,-1431.7 4295.2,-1341.84 4369,-1167 4416.7,-1054 4523.92,-960.48 4605.29,-902.003"/>
<polygon fill="crimson" stroke="crimson" points="4607.46,-904.753 4613.58,-896.103 4603.4,-899.05 4607.46,-904.753"/>
<text text-anchor="middle" x="4431" y="-1361.2" font-family="KaiTi_GB2312" font-size="16.00">1 处理GET请求行</text>
</g>
<!-- ngx_epoll_process_events&#45;&gt;ngx_http_process_request_headers -->
<g id="edge165" class="edge"><title>ngx_epoll_process_events&#45;&gt;ngx_http_process_request_headers</title>
<path fill="none" stroke="crimson" d="M4525.16,-2160.68C4509.57,-2133.97 4468.61,-2070.88 4415,-2043 4326.82,-1997.15 4278.2,-2067.19 4193,-2016 4110.94,-1966.69 4130,-1905.74 4130,-1810 4130,-1810 4130,-1810 4130,-834 4130,-745.158 4378.96,-690.702 4550.38,-663.737"/>
<polygon fill="crimson" stroke="crimson" points="4550.93,-667.194 4560.27,-662.198 4549.85,-660.277 4550.93,-667.194"/>
<text text-anchor="middle" x="4237.5" y="-1118.2" font-family="KaiTi_GB2312" font-size="16.00">2 处理请求的HEADER头部字段</text>
</g>
<!-- ngx_epoll_process_events&#45;&gt;ngx_http_request_handler -->
<g id="edge167" class="edge"><title>ngx_epoll_process_events&#45;&gt;ngx_http_request_handler</title>
<path fill="none" stroke="crimson" d="M4533.16,-2160.97C4541.83,-2071.31 4596.3,-1507.75 4607.85,-1388.25"/>
<polygon fill="crimson" stroke="crimson" points="4611.35,-1388.39 4608.83,-1378.1 4604.38,-1387.72 4611.35,-1388.39"/>
<text text-anchor="middle" x="4639" y="-1805.2" font-family="KaiTi_GB2312" font-size="16.00">3 处理请求数据</text>
</g>
<!-- ngx_epoll_process_events&#45;&gt;ngx_event_accept -->
<g id="edge159" class="edge"><title>ngx_epoll_process_events&#45;&gt;ngx_event_accept</title>
<path fill="none" stroke="crimson" d="M4538.55,-2160.96C4553.82,-2134.23 4594.68,-2070.15 4649,-2043 4769.54,-1982.74 4835.82,-2085.94 4951,-2016 4967.23,-2006.15 4958.4,-1990.83 4974,-1980 5021.05,-1947.35 5049.24,-1979.52 5100,-1953 5110.93,-1947.29 5121.66,-1940.58 5132.03,-1933.24"/>
<polygon fill="crimson" stroke="crimson" points="5134.27,-1935.94 5140.28,-1927.22 5130.14,-1930.29 5134.27,-1935.94"/>
<text text-anchor="middle" x="5057" y="-1994.2" font-family="KaiTi_GB2312" font-size="16.00">处理监听SOCK的新连接</text>
</g>
<!-- ngx_worker_process_cycle -->
<g id="node168" class="node"><title>ngx_worker_process_cycle</title>
<polygon fill="none" stroke="skyblue" points="4532.5,-2473 4532.5,-2499 4747.5,-2499 4747.5,-2473 4532.5,-2473"/>
<text text-anchor="middle" x="4640" y="-2482.2" font-family="KaiTi_GB2312" font-size="16.00">ngx_worker_process_cycle</text>
</g>
<!-- ngx_worker_process_cycle&#45;&gt;ngx_process_events_and_timers -->
<g id="edge170" class="edge"><title>ngx_worker_process_cycle&#45;&gt;ngx_process_events_and_timers</title>
<path fill="none" stroke="crimson" d="M4633.79,-2499.12C4618.51,-2529.65 4575.78,-2605.02 4514,-2633.5 4454.57,-2660.9 2218.4,-2658.7 2158,-2633.5 2096.6,-2607.88 2047.82,-2542.49 2025.4,-2508.02"/>
<polygon fill="crimson" stroke="crimson" points="2028.1,-2505.75 2019.78,-2499.18 2022.19,-2509.5 2028.1,-2505.75"/>
</g>
<!-- ngx_process_events&#45;&gt;ngx_epoll_process_events -->
<g id="edge173" class="edge"><title>ngx_process_events&#45;&gt;ngx_epoll_process_events</title>
<path fill="none" stroke="crimson" d="M4435.92,-2472.85C4451.01,-2426.07 4505.48,-2257.22 4524.99,-2196.74"/>
<polygon fill="crimson" stroke="crimson" points="4528.37,-2197.66 4528.11,-2187.07 4521.71,-2195.51 4528.37,-2197.66"/>
</g>
</g>
</svg>
